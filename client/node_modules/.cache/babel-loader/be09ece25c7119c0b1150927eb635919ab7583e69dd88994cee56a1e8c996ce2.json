{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oria3\\\\Desktop\\\\\\u05DB\\u05DC\\u05DC\\u05D9\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8\\\\code\\\\client\\\\src\\\\pages\\\\AddRecipe.js\",\n  _s = $RefreshSig$();\nimport Navbar from '../components/Navbar';\nimport './App.css';\nimport './AddRecipe.css';\nimport React, { useState, useEffect } from 'react';\nimport jwt_decode from \"jwt-decode\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddRecipe = () => {\n  _s();\n  const navigate = useNavigate();\n  const [name, setName] = useState(null);\n  const [user, setUser] = useState(null);\n  const [recipeName, setRecipeName] = useState('');\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [cookTime, setCookTime] = useState('00:00');\n  const [prepTime, setPrepTime] = useState('00:00');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [description, setDescription] = useState('');\n  const [recipeYield, setRecipeYield] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [checkedItems, setCheckedItems] = useState({});\n  const [userId, setUserId] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const [instructions, setInstructions] = useState(['']);\n  ;\n  const [measurements, setMeasurements] = useState([]);\n  const [recipeIngredients, setRecipeIngredients] = useState([{\n    ingredient: '',\n    amount: ''\n  }]);\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const handleMeasurementChange = (index, value) => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients[index].measurementId = value;\n    setRecipeIngredients(updatedIngredients);\n  };\n  const handleIngredientChange = (index, field, value) => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients[index][field] = value;\n    setRecipeIngredients(updatedIngredients);\n    // Call a function to filter and update the suggestions based on the current input value\n    updateIngredientSuggestions(value, index);\n  };\n  const updateIngredientSuggestions = (inputValue, index) => {\n    // Check if the length of inputValue is at least 3 before searching for suggestions\n    if (inputValue.length >= 3) {\n      const filteredIngredients = ingredients.filter(ingredient => typeof ingredient.ingredient === 'string' && ingredient.ingredient.toLowerCase().startsWith(inputValue.toLowerCase())).map(ingredient => ingredient.ingredient);\n\n      // Update the suggestions array at the specified index\n      setSuggestions(prevSuggestions => {\n        const updatedSuggestions = [...prevSuggestions];\n        updatedSuggestions[index] = filteredIngredients;\n        return updatedSuggestions;\n      });\n    } else {\n      // Clear suggestions if inputValue is less than 3 letters\n      setSuggestions(prevSuggestions => {\n        const updatedSuggestions = [...prevSuggestions];\n        updatedSuggestions[index] = [];\n        return updatedSuggestions;\n      });\n    }\n  };\n  const handleSuggestionClick = (index, suggestion) => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients[index].ingredient = suggestion;\n    setRecipeIngredients(updatedIngredients);\n    // Clear suggestions for the clicked input field\n    setSuggestions([], index);\n  };\n  const addIngredient = () => {\n    setRecipeIngredients([...recipeIngredients, {\n      ingredient: '',\n      amount: ''\n    }]);\n  };\n  const removeIngredient = index => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients.splice(index, 1);\n    setRecipeIngredients(updatedIngredients);\n  };\n  const addInstruction = () => {\n    setInstructions([...instructions, '']);\n  };\n  const removeInstruction = index => {\n    const updatedInstructions = [...instructions];\n    updatedInstructions.splice(index, 1);\n    setInstructions(updatedInstructions);\n  };\n  const handleInstructionChange = (index, value) => {\n    const updatedInstructions = [...instructions];\n    updatedInstructions[index] = value;\n    setInstructions(updatedInstructions);\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      const _user = jwt_decode(token);\n      setName(_user.name);\n      setUser(_user);\n      setUserId(_user.email);\n      if (!_user) {\n        localStorage.removeItem('token');\n        navigate.replace('/login');\n      }\n    }\n  }, [navigate]);\n  useEffect(() => {\n    fetch('http://localhost:1337/api/search_recipe').then(response => response.json()).then(data => {\n      // const expandedCategories = {};\n      const checkedItems = {};\n      Object.keys(data).forEach(category => {\n        //expandedCategories[category] = false;\n        checkedItems[category] = {};\n      });\n      setCategories(data);\n      // for (const categoryKey in data) {\n      //     if (Object.hasOwnProperty.call(data, categoryKey)) {\n      //       const categoryEntries = data[categoryKey];\n      //       console.log(`Category: ${categoryKey}`);\n\n      //       for (const entry of categoryEntries) {\n      //         const [id, name] = entry;\n      //         console.log(`  Entry ID: ${id}, Name: ${name}`);\n      //       }\n      //     }\n      //   }\n      //setExpandedCategories(expandedCategories);\n      setCheckedItems(checkedItems);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  useEffect(() => {\n    if (user) {\n      fetch(`http://localhost:1337/api/groceries`).then(res => res.json()).then(data => {\n        setIngredients(data);\n      }).catch(error => console.error(error));\n    }\n  }, [user]);\n  useEffect(() => {\n    if (user) {\n      fetch(`http://localhost:1337/api/measurements`).then(res => res.json()).then(data => {\n        setMeasurements(data);\n      }).catch(error => console.error(error));\n    }\n  }, [user]);\n\n  // useEffect(() => {\n  //     if (searchTerm.length >= 3) {\n  //         const filtered = ingredients.filter((ingred) =>\n  //             ingred && ingred.ingredient\n  //                 ? ingred.ingredient.toLowerCase().includes(searchTerm.toLowerCase())\n  //                 : false\n  //         );\n  //         setFilteredIngredients(filtered);\n  //     } else {\n  //         setFilteredIngredients([]);\n  //     }\n  // }, [searchTerm, ingredients]);\n\n  // const handleAddToGroceryList = () => {\n  //     if (selectedIngredient && selectedMeasurement && amount) {\n  //         const selectedIngredientObject = filteredIngredients.find(item => item.ingredient === selectedIngredient);\n  //         const selectedMeasurementObject = measurements.find(item => item.measurement === selectedMeasurement);\n  //         const newItem = {\n  //             ingredientId: selectedIngredientObject?.id,\n  //             measurementId: selectedMeasurementObject?.id,\n  //             amount: amount,\n  //             ingredientName: selectedIngredient,\n  //             measurementName: selectedMeasurement\n  //         };\n  //         setIngredientsList([...ingredientsList, newItem]);\n  //         // Clear the input fields after adding to the list\n  //         setSelectedIngredient('');\n  //         setSelectedMeasurement('');\n  //         setAmount('');\n  //         setSearchTerm('');\n  //     }\n  // };\n\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    setSelectedImage(file);\n  };\n\n  // const handleCheckboxChange = (category, id, checked) => {\n  //     setCheckedItems((prevCheckedItems) => {\n  //         const newCheckedItems = {\n  //             ...prevCheckedItems,\n  //             [category]: {\n  //                 ...(prevCheckedItems[category] || {}),\n  //                 [id]: checked,\n  //             },\n  //         };\n\n  //         // If the category is kosher_categories, enforce exactly one checkbox\n  //         if (category === 'kosher_categories') {\n  //             const kosherCategoryIds = Object.keys(newCheckedItems[category]);\n  //             const numChecked = kosherCategoryIds.reduce(\n  //                 (count, checkboxId) => (newCheckedItems[category][checkboxId] ? count + 1 : count),\n  //                 0\n  //             );\n\n  //             // If more than one checkbox is checked, uncheck the current one\n  //             if (numChecked > 1) {\n  //                 newCheckedItems[category][id] = false;\n  //             }\n  //         }\n\n  //         return newCheckedItems;\n  //     });\n  // };\n\n  console.log(checkedItems);\n\n  // const handleSubmit = async (e) => {\n  //     e.preventDefault();\n  //     const kosherCategoryIds = Object.keys(checkedItems['kosher_categories'] || {});\n  //     const isKosherCategoryValid = kosherCategoryIds.some(\n  //         (checkboxId) => checkedItems['kosher_categories'][checkboxId]\n  //     );\n\n  //     if (!isKosherCategoryValid) {\n  //         setErrorMessage('Please select at least one checkbox in kosher_categories');\n  //         return;\n  //     }\n  //     setErrorMessage('');\n  //     console.log('Form Data:', {\n  //         recipeName,\n  //         selectedImage,\n  //         cookTime,\n  //         prepTime,\n  //         selectedCategory,\n  //         groceryList: ingredientsList,\n  //         description,\n  //         recipeServings,\n  //         recipeYield,\n  //         recipeInstructions: instructions,\n  //         checkedItems,\n  //     });\n  //     // setRecipeName('');\n  //     // setSelectedImage(null);\n  //     // setCookTime('00:00');\n  //     // setPrepTime('00:00');\n  //     // setSelectedCategory('');\n  //     // setSearchTerm('');\n  //     // setSelectedMeasurement('');\n  //     // setAmount('');\n  //     // setDescription('');\n  //     // setRecipeServings(1);\n  //     // setRecipeYield('');\n  //     // setRecipeInstructions('');\n  //     // setCheckedItems({});\n  //     // setGroceryList([]);\n  //     const formData = new FormData();\n  //     formData.append('selectedImage', selectedImage);\n  //     formData.append('recipeName', recipeName);\n  //     formData.append('cookTime', cookTime);\n  //     formData.append('prepTime', prepTime);\n  //     formData.append('selectedCategory', selectedCategory);\n  //     formData.append('groceryList', JSON.stringify(ingredientsList)); // Assuming groceryList is an array\n  //     formData.append('description', description);\n  //     formData.append('recipeServings', recipeServings);\n  //     formData.append('recipeYield', recipeYield);\n  //     formData.append('recipeInstructions', instructions);\n  //     formData.append('checkedItems', JSON.stringify(checkedItems));\n  //     formData.append('name', name);\n  //     formData.append('userId', userId);\n\n  //     try {\n  //         const response = await fetch('http://localhost:1337/api/addRecipe', {\n  //             method: 'POST',\n  //             body: formData,\n  //         });\n  //         if (response.ok) {\n  //             const result = await response.json();\n  //             console.log(result); // Recipe successfully added\n  //         } else {\n  //             console.error(`HTTP Error: ${response.status}`);\n  //             // Handle error response\n  //         }\n  //     } catch (error) {\n  //         console.error(error);\n  //         // Handle fetch error (e.g., network error)\n  //     }\n  // };\n\n  const formatCategoryName = category => {\n    // Replace underscores with spaces, remove the word \"categories,\" and capitalize the first letter of each word\n    return category.replace(/_/g, ' ').replace(/categories/g, '').trim().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n  };\n  // console.log(categories)\n\n  const calculateTotalMinutes = time => {\n    const [hours, minutes] = time.split(':').map(Number);\n    return hours * 60 + minutes;\n  };\n  useEffect(() => {\n    const computeTimeCategoryTag = (prep, cook) => {\n      const totalMinutes = calculateTotalMinutes(prep) + calculateTotalMinutes(cook);\n      if (totalMinutes >= 60) {\n        return 'more than 1 hour';\n      } else if (totalMinutes >= 30) {\n        return '30-60 min';\n      } else if (totalMinutes >= 15) {\n        return '15-30 min';\n      } else {\n        return '0-15 min';\n      }\n    };\n    const timeTag = computeTimeCategoryTag(prepTime, cookTime);\n\n    // Update the time category in checkedItems\n    setCheckedItems(prevCheckedItems => ({\n      ...prevCheckedItems,\n      time_categories: {\n        [timeTag]: true\n      }\n    }));\n  }, [prepTime, cookTime]);\n  const handleSelectChange = (category, selectedValues) => {\n    console.log('category: ' + category);\n    console.log('selectedValues: ' + selectedValues);\n    setSelectedOptions(prevSelectedOptions => ({\n      ...prevSelectedOptions,\n      [category]: selectedValues\n    }));\n\n    // Update checkedItems based on the selected options\n    const categoryIds = selectedValues.map(value => parseInt(value, 10));\n    setCheckedItems(prevCheckedItems => ({\n      ...prevCheckedItems,\n      [category]: {\n        ...prevCheckedItems[category],\n        // Preserve existing selections\n        ...categoryIds.reduce((acc, categoryId) => {\n          acc[categoryId] = true;\n          return acc;\n        }, {})\n      }\n    }));\n  };\n  const handleCheckboxChange = (category, value) => {\n    setSelectedOptions(prevSelectedOptions => ({\n      ...prevSelectedOptions,\n      [category]: prevSelectedOptions[category] ? [...prevSelectedOptions[category], value] : [value]\n    }));\n    setCheckedItems(prevCheckedItems => {\n      var _prevCheckedItems$cat;\n      return {\n        ...prevCheckedItems,\n        [category]: {\n          ...prevCheckedItems[category],\n          [value]: !((_prevCheckedItems$cat = prevCheckedItems[category]) !== null && _prevCheckedItems$cat !== void 0 && _prevCheckedItems$cat[value])\n        }\n      };\n    });\n  };\n\n  // ...\n\n  /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tags-container\",\n    children: Object.entries(categories).map(_ref => {\n      let [category, entries] = _ref;\n      return (\n        // Skip rendering checkbox container for \"time_categories\"\n        category !== 'time_categories' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkbox-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: formatCategoryName(category) + \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 21\n          }, this), entries.map(_ref2 => {\n            var _checkedItems$categor;\n            let [id, tagName] = _ref2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: `${category}_${id}`,\n                checked: (_checkedItems$categor = checkedItems[category]) === null || _checkedItems$categor === void 0 ? void 0 : _checkedItems$categor[id],\n                onChange: () => handleCheckboxChange(category, id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: `${category}_${id}`,\n                children: tagName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 29\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 25\n            }, this);\n          })]\n        }, category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 17\n        }, this)\n      );\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [name && /*#__PURE__*/_jsxDEV(Navbar, {\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: user && /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"add-recipe-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-details two-sections-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-left image-details-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add-image-head\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"black-title\",\n                children: \"Add Images\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-container\",\n              children: selectedImage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"recipe-image\",\n                  src: URL.createObjectURL(selectedImage),\n                  alt: \"Selected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"custom-file-upload\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-images\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input-file\",\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: handleImageChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"add-file-title\",\n                  children: \"Upload images\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-right image-details-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"description-head\",\n              children: \"Add Your Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"description-bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"black-title\",\n                children: \"Recipe Name & Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"description-fields\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"desc-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"input-title\",\n                    children: \"Recipe Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input-field\",\n                    type: \"text\",\n                    value: recipeName || '',\n                    onChange: e => setRecipeName(e.target.value),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"times-yields\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"desc-field\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"input-title\",\n                      children: \"Prep Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input-field time-field\",\n                      type: \"time\",\n                      value: prepTime,\n                      onChange: e => setPrepTime(e.target.value),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"desc-field\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"input-title\",\n                      children: \"Cook Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input-field time-field\",\n                      type: \"time\",\n                      value: cookTime,\n                      onChange: e => setCookTime(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"desc-field yields-field\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"input-title\",\n                      children: \"Yields /Servings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input-field\",\n                      type: \"text\",\n                      value: recipeYield,\n                      onChange: e => setRecipeYield(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"desc-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"input-title\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"input-field desc-textbox\",\n                    value: description,\n                    onChange: e => setDescription(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"desc-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"input-title\",\n                    children: \"Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"input-field category-desc\",\n                    value: selectedCategory,\n                    onChange: e => setSelectedCategory(e.target.value),\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Select Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 49\n                    }, this), Object.entries(categories).map(_ref3 => {\n                      let [category, entries] = _ref3;\n                      return entries.map(_ref4 => {\n                        let [id, tagName] = _ref4;\n                        return /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: tagName,\n                          children: tagName\n                        }, id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 531,\n                          columnNumber: 57\n                        }, this);\n                      });\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ingredients-steps two-sections-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-left ingredients-steps-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"black-title\",\n              children: \"Ingredients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"steps-container\",\n              children: [recipeIngredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"instruction-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input-field step-input\",\n                    placeholder: `Ingredient ${index + 1}`,\n                    value: ingredient.ingredient,\n                    onChange: e => handleIngredientChange(index, 'ingredient', e.target.value),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 49\n                  }, this), Array.isArray(suggestions[index]) && suggestions[index].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ingredient-suggestions\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"toggle-bar\",\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        children: suggestions[index].map((suggestion, suggestionIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          onClick: () => handleSuggestionClick(index, suggestion),\n                          children: suggestion\n                        }, suggestionIndex, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 570,\n                          columnNumber: 69\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 568,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"input-field step-input amount-input\",\n                  placeholder: `Amount ${index + 1}`,\n                  value: ingredient.amount,\n                  onChange: e => handleIngredientChange(index, 'amount', e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"input-field step-input amount-input\",\n                  value: ingredient.measurementId || '',\n                  onChange: e => handleMeasurementChange(index, e.target.value),\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: `Measurement ${index + 1}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 49\n                  }, this), measurements.map((measurement, measurementIndex) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: measurement.measurement,\n                    children: measurement.measurement\n                  }, measurementIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 601,\n                    columnNumber: 53\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  onClick: () => removeIngredient(index),\n                  className: \"bi bi-x-circle remove-icon\",\n                  title: \"Remove Ingredient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 45\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 41\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addIngredient,\n                className: \"add-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-plus-circle add-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Add another ingredient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-right ingredients-steps-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"black-title\",\n              children: \"Instructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"steps-container\",\n              children: [instructions.map((instruction, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"instruction-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input-field step-input\",\n                  placeholder: `Instruction ${index + 1}`,\n                  value: instruction,\n                  onChange: e => handleInstructionChange(index, e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  onClick: () => removeInstruction(index),\n                  className: \"bi bi-x-circle remove-icon\",\n                  title: \"Remove Instruction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 45\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 41\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addInstruction,\n                className: \"add-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-plus-circle add-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Add another instruction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tags-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"black-title\",\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tags-container\",\n            children: Object.entries(categories).map(_ref5 => {\n              let [category, entries] = _ref5;\n              return (\n                // Skip rendering checkbox container for \"time_categories\"\n                category !== 'time_categories' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkbox-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: formatCategoryName(category) + \":\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 670,\n                    columnNumber: 41\n                  }, this), entries.map(_ref6 => {\n                    var _checkedItems$categor2;\n                    let [id, tagName] = _ref6;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        id: `${category}_${id}`,\n                        checked: (_checkedItems$categor2 = checkedItems[category]) === null || _checkedItems$categor2 === void 0 ? void 0 : _checkedItems$categor2[id],\n                        onChange: () => handleCheckboxChange(category, id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 673,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: `${category}_${id}`,\n                        children: tagName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 679,\n                        columnNumber: 49\n                      }, this)]\n                    }, id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 672,\n                      columnNumber: 45\n                    }, this);\n                  })]\n                }, category, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 37\n                }, this)\n              );\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-tags\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"black-title\",\n              children: \"Selected Tags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: Object.entries(checkedItems).map(_ref7 => {\n                let [category, tags] = _ref7;\n                return category !== 'time_categories' && Object.entries(tags).map(_ref8 => {\n                  let [id, checked] = _ref8;\n                  return checked && /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [formatCategoryName(category), \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 695,\n                      columnNumber: 57\n                    }, this), \" \", categories[category].find(_ref9 => {\n                      let [tagId] = _ref9;\n                      return tagId === parseInt(id, 10);\n                    })[1]]\n                  }, id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 694,\n                    columnNumber: 53\n                  }, this);\n                });\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit-section\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"publish-btn\",\n            type: \"submit\",\n            children: \"Publish\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 427,\n    columnNumber: 9\n  }, this);\n};\n_s(AddRecipe, \"5EEvreEdDfrAxGDpxdmVwInU520=\", false, function () {\n  return [useNavigate];\n});\n_c = AddRecipe;\nexport default AddRecipe;\n\n// const [searchTerm, setSearchTerm] = useState('');\n// const [filteredIngredients, setFilteredIngredients] = useState([]);\n// const [selectedIngredient, setSelectedIngredient] = useState('');\n// const [selectedMeasurement, setSelectedMeasurement] = useState('');\n// const [amount, setAmount] = useState('');\n// const [ingredientsList, setIngredientsList] = useState([]);\nvar _c;\n$RefreshReg$(_c, \"AddRecipe\");","map":{"version":3,"names":["Navbar","React","useState","useEffect","jwt_decode","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AddRecipe","_s","navigate","name","setName","user","setUser","recipeName","setRecipeName","selectedImage","setSelectedImage","cookTime","setCookTime","prepTime","setPrepTime","selectedCategory","setSelectedCategory","description","setDescription","recipeYield","setRecipeYield","categories","setCategories","checkedItems","setCheckedItems","userId","setUserId","ingredients","setIngredients","instructions","setInstructions","measurements","setMeasurements","recipeIngredients","setRecipeIngredients","ingredient","amount","suggestions","setSuggestions","selectedOptions","setSelectedOptions","handleMeasurementChange","index","value","updatedIngredients","measurementId","handleIngredientChange","field","updateIngredientSuggestions","inputValue","length","filteredIngredients","filter","toLowerCase","startsWith","map","prevSuggestions","updatedSuggestions","handleSuggestionClick","suggestion","addIngredient","removeIngredient","splice","addInstruction","removeInstruction","updatedInstructions","handleInstructionChange","token","localStorage","getItem","_user","email","removeItem","replace","fetch","then","response","json","data","Object","keys","forEach","category","catch","error","console","res","handleImageChange","event","file","target","files","log","formatCategoryName","trim","split","word","charAt","toUpperCase","slice","join","calculateTotalMinutes","time","hours","minutes","Number","computeTimeCategoryTag","prep","cook","totalMinutes","timeTag","prevCheckedItems","time_categories","handleSelectChange","selectedValues","prevSelectedOptions","categoryIds","parseInt","reduce","acc","categoryId","handleCheckboxChange","_prevCheckedItems$cat","className","children","entries","_ref","fileName","_jsxFileName","lineNumber","columnNumber","_ref2","_checkedItems$categor","id","tagName","type","checked","onChange","htmlFor","src","URL","createObjectURL","alt","accept","e","required","disabled","_ref3","_ref4","placeholder","Array","isArray","class","suggestionIndex","onClick","measurement","measurementIndex","title","instruction","_ref5","_ref6","_checkedItems$categor2","_ref7","tags","_ref8","find","_ref9","tagId","_c","$RefreshReg$"],"sources":["C:/Users/oria3/Desktop/כללי/לימודים/שנה ג/פרוייקט גמר/code/client/src/pages/AddRecipe.js"],"sourcesContent":["import Navbar from '../components/Navbar';\nimport './App.css';\nimport './AddRecipe.css'\nimport React, { useState, useEffect } from 'react';\nimport jwt_decode from \"jwt-decode\";\nimport { useNavigate } from 'react-router-dom'\n\nconst AddRecipe = () => {\n    const navigate = useNavigate()\n    const [name, setName] = useState(null)\n    const [user, setUser] = useState(null)\n    const [recipeName, setRecipeName] = useState('');\n    const [selectedImage, setSelectedImage] = useState(null);\n    const [cookTime, setCookTime] = useState('00:00');\n    const [prepTime, setPrepTime] = useState('00:00');\n    const [selectedCategory, setSelectedCategory] = useState('');\n    const [description, setDescription] = useState('');\n    const [recipeYield, setRecipeYield] = useState('');\n    const [categories, setCategories] = useState([]);\n    const [checkedItems, setCheckedItems] = useState({});\n    const [userId, setUserId] = useState('');\n\n    const [ingredients, setIngredients] = useState([])\n    const [instructions, setInstructions] = useState(['']);;\n    const [measurements, setMeasurements] = useState([]);\n    const [recipeIngredients, setRecipeIngredients] = useState([{ ingredient: '', amount: '' }]);\n    const [suggestions, setSuggestions] = useState([]);\n    const [selectedOptions, setSelectedOptions] = useState({});\n\n    const handleMeasurementChange = (index, value) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients[index].measurementId = value;\n        setRecipeIngredients(updatedIngredients);\n    };\n\n    const handleIngredientChange = (index, field, value) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients[index][field] = value;\n        setRecipeIngredients(updatedIngredients);\n        // Call a function to filter and update the suggestions based on the current input value\n        updateIngredientSuggestions(value, index);\n    };\n\n    const updateIngredientSuggestions = (inputValue, index) => {\n        // Check if the length of inputValue is at least 3 before searching for suggestions\n        if (inputValue.length >= 3) {\n            const filteredIngredients = ingredients\n                .filter((ingredient) =>\n                    typeof ingredient.ingredient === 'string' &&\n                    ingredient.ingredient.toLowerCase().startsWith(inputValue.toLowerCase())\n                )\n                .map((ingredient) => ingredient.ingredient);\n\n            // Update the suggestions array at the specified index\n            setSuggestions((prevSuggestions) => {\n                const updatedSuggestions = [...prevSuggestions];\n                updatedSuggestions[index] = filteredIngredients;\n                return updatedSuggestions;\n            });\n        } else {\n            // Clear suggestions if inputValue is less than 3 letters\n            setSuggestions((prevSuggestions) => {\n                const updatedSuggestions = [...prevSuggestions];\n                updatedSuggestions[index] = [];\n                return updatedSuggestions;\n            });\n        }\n    };\n\n    const handleSuggestionClick = (index, suggestion) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients[index].ingredient = suggestion;\n        setRecipeIngredients(updatedIngredients);\n        // Clear suggestions for the clicked input field\n        setSuggestions([], index);\n    };\n\n    const addIngredient = () => {\n        setRecipeIngredients([...recipeIngredients, { ingredient: '', amount: '' }]);\n    };\n\n    const removeIngredient = (index) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients.splice(index, 1);\n        setRecipeIngredients(updatedIngredients);\n    };\n\n    const addInstruction = () => {\n        setInstructions([...instructions, '']);\n    };\n\n    const removeInstruction = (index) => {\n        const updatedInstructions = [...instructions];\n        updatedInstructions.splice(index, 1);\n        setInstructions(updatedInstructions);\n    };\n\n    const handleInstructionChange = (index, value) => {\n        const updatedInstructions = [...instructions];\n        updatedInstructions[index] = value;\n        setInstructions(updatedInstructions);\n    };\n\n    useEffect(() => {\n        const token = localStorage.getItem('token')\n        if (token) {\n            const _user = jwt_decode(token)\n            setName(_user.name)\n            setUser(_user)\n            setUserId(_user.email)\n            if (!_user) {\n                localStorage.removeItem('token')\n                navigate.replace('/login')\n            }\n        }\n    }, [navigate])\n\n\n    useEffect(() => {\n        fetch('http://localhost:1337/api/search_recipe')\n            .then(response => response.json())\n            .then(data => {\n                // const expandedCategories = {};\n                const checkedItems = {};\n                Object.keys(data).forEach(category => {\n                    //expandedCategories[category] = false;\n                    checkedItems[category] = {};\n                });\n                setCategories(data);\n                // for (const categoryKey in data) {\n                //     if (Object.hasOwnProperty.call(data, categoryKey)) {\n                //       const categoryEntries = data[categoryKey];\n                //       console.log(`Category: ${categoryKey}`);\n\n                //       for (const entry of categoryEntries) {\n                //         const [id, name] = entry;\n                //         console.log(`  Entry ID: ${id}, Name: ${name}`);\n                //       }\n                //     }\n                //   }\n                //setExpandedCategories(expandedCategories);\n                setCheckedItems(checkedItems);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (user) {\n            fetch(`http://localhost:1337/api/groceries`)\n                .then(res => res.json())\n                .then(data => {\n                    setIngredients(data)\n                })\n                .catch(error => console.error(error))\n        }\n    }, [user]);\n\n    useEffect(() => {\n        if (user) {\n            fetch(`http://localhost:1337/api/measurements`)\n                .then(res => res.json())\n                .then(data => {\n                    setMeasurements(data)\n                })\n                .catch(error => console.error(error))\n        }\n    }, [user]);\n\n    // useEffect(() => {\n    //     if (searchTerm.length >= 3) {\n    //         const filtered = ingredients.filter((ingred) =>\n    //             ingred && ingred.ingredient\n    //                 ? ingred.ingredient.toLowerCase().includes(searchTerm.toLowerCase())\n    //                 : false\n    //         );\n    //         setFilteredIngredients(filtered);\n    //     } else {\n    //         setFilteredIngredients([]);\n    //     }\n    // }, [searchTerm, ingredients]);\n\n\n    // const handleAddToGroceryList = () => {\n    //     if (selectedIngredient && selectedMeasurement && amount) {\n    //         const selectedIngredientObject = filteredIngredients.find(item => item.ingredient === selectedIngredient);\n    //         const selectedMeasurementObject = measurements.find(item => item.measurement === selectedMeasurement);\n    //         const newItem = {\n    //             ingredientId: selectedIngredientObject?.id,\n    //             measurementId: selectedMeasurementObject?.id,\n    //             amount: amount,\n    //             ingredientName: selectedIngredient,\n    //             measurementName: selectedMeasurement\n    //         };\n    //         setIngredientsList([...ingredientsList, newItem]);\n    //         // Clear the input fields after adding to the list\n    //         setSelectedIngredient('');\n    //         setSelectedMeasurement('');\n    //         setAmount('');\n    //         setSearchTerm('');\n    //     }\n    // };\n\n    const handleImageChange = (event) => {\n        const file = event.target.files[0];\n        setSelectedImage(file);\n    };\n\n    // const handleCheckboxChange = (category, id, checked) => {\n    //     setCheckedItems((prevCheckedItems) => {\n    //         const newCheckedItems = {\n    //             ...prevCheckedItems,\n    //             [category]: {\n    //                 ...(prevCheckedItems[category] || {}),\n    //                 [id]: checked,\n    //             },\n    //         };\n\n    //         // If the category is kosher_categories, enforce exactly one checkbox\n    //         if (category === 'kosher_categories') {\n    //             const kosherCategoryIds = Object.keys(newCheckedItems[category]);\n    //             const numChecked = kosherCategoryIds.reduce(\n    //                 (count, checkboxId) => (newCheckedItems[category][checkboxId] ? count + 1 : count),\n    //                 0\n    //             );\n\n    //             // If more than one checkbox is checked, uncheck the current one\n    //             if (numChecked > 1) {\n    //                 newCheckedItems[category][id] = false;\n    //             }\n    //         }\n\n    //         return newCheckedItems;\n    //     });\n    // };\n\n    console.log(checkedItems)\n\n    // const handleSubmit = async (e) => {\n    //     e.preventDefault();\n    //     const kosherCategoryIds = Object.keys(checkedItems['kosher_categories'] || {});\n    //     const isKosherCategoryValid = kosherCategoryIds.some(\n    //         (checkboxId) => checkedItems['kosher_categories'][checkboxId]\n    //     );\n\n    //     if (!isKosherCategoryValid) {\n    //         setErrorMessage('Please select at least one checkbox in kosher_categories');\n    //         return;\n    //     }\n    //     setErrorMessage('');\n    //     console.log('Form Data:', {\n    //         recipeName,\n    //         selectedImage,\n    //         cookTime,\n    //         prepTime,\n    //         selectedCategory,\n    //         groceryList: ingredientsList,\n    //         description,\n    //         recipeServings,\n    //         recipeYield,\n    //         recipeInstructions: instructions,\n    //         checkedItems,\n    //     });\n    //     // setRecipeName('');\n    //     // setSelectedImage(null);\n    //     // setCookTime('00:00');\n    //     // setPrepTime('00:00');\n    //     // setSelectedCategory('');\n    //     // setSearchTerm('');\n    //     // setSelectedMeasurement('');\n    //     // setAmount('');\n    //     // setDescription('');\n    //     // setRecipeServings(1);\n    //     // setRecipeYield('');\n    //     // setRecipeInstructions('');\n    //     // setCheckedItems({});\n    //     // setGroceryList([]);\n    //     const formData = new FormData();\n    //     formData.append('selectedImage', selectedImage);\n    //     formData.append('recipeName', recipeName);\n    //     formData.append('cookTime', cookTime);\n    //     formData.append('prepTime', prepTime);\n    //     formData.append('selectedCategory', selectedCategory);\n    //     formData.append('groceryList', JSON.stringify(ingredientsList)); // Assuming groceryList is an array\n    //     formData.append('description', description);\n    //     formData.append('recipeServings', recipeServings);\n    //     formData.append('recipeYield', recipeYield);\n    //     formData.append('recipeInstructions', instructions);\n    //     formData.append('checkedItems', JSON.stringify(checkedItems));\n    //     formData.append('name', name);\n    //     formData.append('userId', userId);\n\n    //     try {\n    //         const response = await fetch('http://localhost:1337/api/addRecipe', {\n    //             method: 'POST',\n    //             body: formData,\n    //         });\n    //         if (response.ok) {\n    //             const result = await response.json();\n    //             console.log(result); // Recipe successfully added\n    //         } else {\n    //             console.error(`HTTP Error: ${response.status}`);\n    //             // Handle error response\n    //         }\n    //     } catch (error) {\n    //         console.error(error);\n    //         // Handle fetch error (e.g., network error)\n    //     }\n    // };\n\n\n\n    const formatCategoryName = (category) => {\n        // Replace underscores with spaces, remove the word \"categories,\" and capitalize the first letter of each word\n        return category\n            .replace(/_/g, ' ')\n            .replace(/categories/g, '')\n            .trim()\n            .split(' ')\n            .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n            .join(' ');\n    };\n    // console.log(categories)\n\n    const calculateTotalMinutes = (time) => {\n        const [hours, minutes] = time.split(':').map(Number);\n        return hours * 60 + minutes;\n    };\n\n\n\n\n    useEffect(() => {\n        const computeTimeCategoryTag = (prep, cook) => {\n            const totalMinutes = calculateTotalMinutes(prep) + calculateTotalMinutes(cook);\n\n            if (totalMinutes >= 60) {\n                return 'more than 1 hour';\n            } else if (totalMinutes >= 30) {\n                return '30-60 min';\n            } else if (totalMinutes >= 15) {\n                return '15-30 min';\n            } else {\n                return '0-15 min';\n            }\n        };\n\n        const timeTag = computeTimeCategoryTag(prepTime, cookTime);\n\n        // Update the time category in checkedItems\n        setCheckedItems((prevCheckedItems) => ({\n            ...prevCheckedItems,\n            time_categories: {\n                [timeTag]: true,\n            },\n        }));\n    }, [prepTime, cookTime]);\n\n\n    const handleSelectChange = (category, selectedValues) => {\n        console.log('category: ' + category);\n        console.log('selectedValues: ' + selectedValues);\n\n        setSelectedOptions((prevSelectedOptions) => ({\n            ...prevSelectedOptions,\n            [category]: selectedValues,\n        }));\n\n        // Update checkedItems based on the selected options\n        const categoryIds = selectedValues.map(value => parseInt(value, 10));\n        setCheckedItems((prevCheckedItems) => ({\n            ...prevCheckedItems,\n            [category]: {\n                ...prevCheckedItems[category], // Preserve existing selections\n                ...categoryIds.reduce((acc, categoryId) => {\n                    acc[categoryId] = true;\n                    return acc;\n                }, {}),\n            },\n        }));\n    };\n\n    const handleCheckboxChange = (category, value) => {\n        setSelectedOptions((prevSelectedOptions) => ({\n            ...prevSelectedOptions,\n            [category]: prevSelectedOptions[category]\n                ? [...prevSelectedOptions[category], value]\n                : [value],\n        }));\n    \n        setCheckedItems((prevCheckedItems) => ({\n            ...prevCheckedItems,\n            [category]: {\n                ...prevCheckedItems[category],\n                [value]: !prevCheckedItems[category]?.[value],\n            },\n        }));\n    };\n    \n    // ...\n    \n    <div className='tags-container'>\n        {Object.entries(categories).map(([category, entries]) => (\n            // Skip rendering checkbox container for \"time_categories\"\n            category !== 'time_categories' && (\n                <div key={category} className=\"checkbox-container\">\n                    <label>{formatCategoryName(category) + \":\"}</label>\n                    {entries.map(([id, tagName]) => (\n                        <div key={id}>\n                            <input\n                                type=\"checkbox\"\n                                id={`${category}_${id}`}\n                                checked={checkedItems[category]?.[id]}\n                                onChange={() => handleCheckboxChange(category, id)}\n                            />\n                            <label htmlFor={`${category}_${id}`}>{tagName}</label>\n                        </div>\n                    ))}\n                </div>\n            )\n        ))}\n    </div>\n    \n\n    return (\n        <div>\n            {name && <Navbar name={name} />}\n            <div>\n                {user && (\n                    <form className='add-recipe-form'>\n\n                        <div className='image-details two-sections-wrapper'>\n\n                            <div className='section-left image-details-left'>\n                                <div className='add-image-head'>\n                                    <label className='black-title'>Add Images</label>\n                                </div>\n\n                                <div className='image-container'>\n                                    {selectedImage ? (\n                                        <>\n                                            <img className='recipe-image' src={URL.createObjectURL(selectedImage)} alt=\"Selected\" />\n                                        </>\n                                    ) : (\n                                        <>\n                                            <label className=\"custom-file-upload\">\n                                                <i className=\"bi bi-images\"></i>\n                                                <input className=\"input-file\" type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\n                                            </label>\n                                            <label className='add-file-title'>Upload images</label>\n                                        </>\n                                    )}\n                                </div>\n\n                            </div>\n\n                            <div className='section-right image-details-right'>\n                                <div className='description-head'>Add Your Recipe</div>\n                                <div className='description-bottom'>\n                                    <div className='black-title'>Recipe Name & Description</div>\n\n                                    <div className='description-fields'>\n                                        <div className='desc-field'>\n                                            <label className='input-title'>Recipe Name</label>\n                                            <input\n                                                className='input-field'\n                                                type=\"text\"\n                                                value={recipeName || ''}\n                                                onChange={(e) => setRecipeName(e.target.value)}\n                                                required\n                                            />\n                                        </div>\n\n                                        <div className='times-yields'>\n\n                                            <div className='desc-field'>\n                                                <label className='input-title'>Prep Time</label>\n                                                <input\n                                                    className='input-field time-field'\n                                                    type=\"time\"\n                                                    value={prepTime}\n                                                    onChange={(e) => setPrepTime(e.target.value)}\n                                                    required\n                                                />\n                                            </div>\n\n                                            <div className='desc-field'>\n                                                <label className='input-title'>Cook Time</label>\n                                                <input\n                                                    className='input-field time-field'\n                                                    type=\"time\"\n                                                    value={cookTime}\n                                                    onChange={(e) => setCookTime(e.target.value)}\n                                                />\n                                            </div>\n\n                                            <div className='desc-field yields-field'>\n                                                <label className='input-title'>Yields /Servings</label>\n                                                <input\n                                                    className='input-field'\n                                                    type=\"text\"\n                                                    value={recipeYield}\n                                                    onChange={(e) => setRecipeYield(e.target.value)}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        <div className='desc-field'>\n                                            <label className='input-title'>Description</label>\n                                            <textarea\n                                                className='input-field desc-textbox'\n                                                value={description}\n                                                onChange={(e) => setDescription(e.target.value)}\n                                            />\n                                        </div>\n\n                                        <div className='desc-field'>\n                                            <label className='input-title'>Category</label>\n                                            <select\n                                                className='input-field category-desc'\n                                                value={selectedCategory}\n                                                onChange={(e) => setSelectedCategory(e.target.value)}\n                                                required\n                                            >\n                                                <option value=\"\" disabled>\n                                                    Select Category\n                                                </option>\n                                                {Object.entries(categories).map(([category, entries]) => (\n                                                    entries.map(([id, tagName]) => (\n                                                        <option key={id} value={tagName}>\n                                                            {tagName}\n                                                        </option>\n                                                    ))\n                                                ))}\n                                            </select>\n                                        </div>\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className='ingredients-steps two-sections-wrapper'>\n\n                            <div className='section-left ingredients-steps-section'>\n                                <label className='black-title'>Ingredients</label>\n\n\n                                <div className='steps-container'>\n\n\n                                    {recipeIngredients.map((ingredient, index) => (\n                                        <div key={index} className='instruction-row'>\n\n                                            <div className=\"input-container\">\n                                                <input\n                                                    className='input-field step-input'\n                                                    placeholder={`Ingredient ${index + 1}`}\n                                                    value={ingredient.ingredient}\n                                                    onChange={(e) => handleIngredientChange(index, 'ingredient', e.target.value)}\n                                                    required\n                                                />\n\n                                                {Array.isArray(suggestions[index]) && suggestions[index].length > 0 && (\n                                                    <div className='ingredient-suggestions'>\n                                                        <div class='toggle-bar'>\n                                                            <ul>\n                                                                {suggestions[index].map((suggestion, suggestionIndex) => (\n                                                                    <li key={suggestionIndex} onClick={() => handleSuggestionClick(index, suggestion)}>\n                                                                        {suggestion}\n                                                                    </li>\n                                                                ))}\n                                                            </ul>\n                                                        </div>\n                                                    </div>\n                                                )}\n\n                                            </div>\n\n\n\n\n                                            <input\n                                                type=\"number\"\n                                                className='input-field step-input amount-input'\n                                                placeholder={`Amount ${index + 1}`}\n                                                value={ingredient.amount}\n                                                onChange={(e) => handleIngredientChange(index, 'amount', e.target.value)}\n                                                required\n                                            />\n\n                                            <select\n                                                className='input-field step-input amount-input'\n                                                value={ingredient.measurementId || ''}\n                                                onChange={(e) => handleMeasurementChange(index, e.target.value)}\n                                                required\n                                            >\n                                                <option value='' disabled>{`Measurement ${index + 1}`}</option>\n                                                {measurements.map((measurement, measurementIndex) => (\n                                                    <option key={measurementIndex} value={measurement.measurement}>\n                                                        {measurement.measurement}\n                                                    </option>\n                                                ))}\n                                            </select>\n\n                                            <i\n                                                onClick={() => removeIngredient(index)}\n                                                className='bi bi-x-circle remove-icon'\n                                                title='Remove Ingredient'\n                                            ></i>\n                                        </div>\n                                    ))}\n\n\n\n\n\n\n                                    <button onClick={addIngredient} className='add-btn'>\n                                        <i className=\"bi bi-plus-circle add-icon\"></i>\n                                        <span>Add another ingredient</span>\n                                    </button>\n\n                                </div>\n\n                            </div>\n\n                            <div className='section-right ingredients-steps-section'>\n                                <label className='black-title'>Instructions</label>\n\n                                <div className='steps-container'>\n\n                                    {instructions.map((instruction, index) => (\n                                        <div key={index} className='instruction-row'>\n                                            <input\n                                                className='input-field step-input'\n                                                placeholder={`Instruction ${index + 1}`}\n                                                value={instruction}\n                                                onChange={(e) => handleInstructionChange(index, e.target.value)}\n                                                required\n                                            />\n                                            <i\n                                                onClick={() => removeInstruction(index)}\n                                                className='bi bi-x-circle remove-icon'\n                                                title='Remove Instruction'\n                                            ></i>\n                                        </div>\n                                    ))}\n\n                                    <button onClick={addInstruction} className='add-btn'>\n                                        <i className=\"bi bi-plus-circle add-icon\"></i>\n                                        <span>Add another instruction</span>\n                                    </button>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n                        <div className='tags-section'>\n                            <label className='black-title'>Tags</label>\n\n                            <div className='tags-container'>\n                            {Object.entries(categories).map(([category, entries]) => (\n                                // Skip rendering checkbox container for \"time_categories\"\n                                category !== 'time_categories' && (\n                                    <div key={category} className=\"checkbox-container\">\n                                        <label>{formatCategoryName(category) + \":\"}</label>\n                                        {entries.map(([id, tagName]) => (\n                                            <div key={id}>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    id={`${category}_${id}`}\n                                                    checked={checkedItems[category]?.[id]}\n                                                    onChange={() => handleCheckboxChange(category, id)}\n                                                />\n                                                <label htmlFor={`${category}_${id}`}>{tagName}</label>\n                                            </div>\n                                        ))}\n                                    </div>\n                                )\n                            ))}\n                        </div>\n\n                            <div className='selected-tags'>\n                                <label className='black-title'>Selected Tags</label>\n                                <ul>\n                                    {Object.entries(checkedItems).map(([category, tags]) => (\n                                        category !== 'time_categories' && (\n                                            Object.entries(tags).map(([id, checked]) => (\n                                                checked && (\n                                                    <li key={id}>\n                                                        <strong>{formatCategoryName(category)}:</strong> {categories[category].find(([tagId]) => tagId === parseInt(id, 10))[1]}\n                                                    </li>\n                                                )\n                                            ))\n                                        )\n                                    ))}\n\n                                </ul>\n                            </div>\n\n                        </div>\n\n\n\n                        <div className='submit-section'>\n                            <button className='publish-btn' type=\"submit\">Publish</button>\n                        </div>\n                    </form>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default AddRecipe\n\n\n\n// const [searchTerm, setSearchTerm] = useState('');\n// const [filteredIngredients, setFilteredIngredients] = useState([]);\n// const [selectedIngredient, setSelectedIngredient] = useState('');\n// const [selectedMeasurement, setSelectedMeasurement] = useState('');\n// const [amount, setAmount] = useState('');\n// const [ingredientsList, setIngredientsList] = useState([]);"],"mappings":"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AI,CAACG,IAAI,IAAI;QACVlD,cAAc,CAACkD,IAAI,CAAC;MACxB,CAAC,CAAC,CACDK,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;IAC7C;EACJ,CAAC,EAAE,CAAC/E,IAAI,CAAC,CAAC;EAEVZ,SAAS,CAAC,MAAM;IACZ,IAAIY,IAAI,EAAE;MACNqE,KAAK,CAAE,wCAAuC,CAAC,CAC1CC,IAAI,CAACW,GAAG,IAAIA,GAAG,CAACT,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACV9C,eAAe,CAAC8C,IAAI,CAAC;MACzB,CAAC,CAAC,CACDK,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;IAC7C;EACJ,CAAC,EAAE,CAAC/E,IAAI,CAAC,CAAC;;EAEV;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMkF,iBAAiB,GAAIC,KAAK,IAAK;IACjC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClCjF,gBAAgB,CAAC+E,IAAI,CAAC;EAC1B,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEAJ,OAAO,CAACO,GAAG,CAACrE,YAAY,CAAC;;EAEzB;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAC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"},"metadata":{},"sourceType":"module","externalDependencies":[]}