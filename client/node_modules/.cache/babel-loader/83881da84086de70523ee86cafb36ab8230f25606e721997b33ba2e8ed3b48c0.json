{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oria3\\\\Desktop\\\\\\u05DB\\u05DC\\u05DC\\u05D9\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8\\\\code\\\\client\\\\src\\\\pages\\\\UsersTable.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsersTable = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  useEffect();\n  async function loginUser(event) {\n    event.preventDefault();\n    const response = await fetch('http://localhost:1337/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await response.json();\n    if (data.user) {\n      localStorage.setItem('token', data.user);\n      alert('Login successful ');\n      const user = jwt_decode(data.user);\n      if (user.email == ADMIN_EMAIL) {\n        window.location.href = '/admin';\n      } else {\n        window.location.href = '/home';\n      }\n    } else {\n      alert('Please check your username and password');\n    }\n  }\n  console.log(users);\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Gender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Birth Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"District\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.birthDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.district\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)]\n      }, user._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(UsersTable, \"JadZszbqna06PpJs9hMo7Hl/LOY=\");\n_c = UsersTable;\nexport default UsersTable;\nvar _c;\n$RefreshReg$(_c, \"UsersTable\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","UsersTable","_s","users","setUsers","loginUser","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","email","password","data","json","user","localStorage","setItem","alert","jwt_decode","ADMIN_EMAIL","window","location","href","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","map","name","gender","birthDate","district","_id","_c","$RefreshReg$"],"sources":["C:/Users/oria3/Desktop/כללי/שנה ג/פרוייקט גמר/code/client/src/pages/UsersTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\n\r\nconst UsersTable = () => {\r\n    const [users, setUsers] = useState([])\r\n\r\n    useEffect(\r\n\r\n        \r\n    )\r\n    \r\n\r\n    async function loginUser(event) {\r\n        event.preventDefault()\r\n    \r\n        const response = await fetch('http://localhost:1337/api/login', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            email,\r\n            password,\r\n          }),\r\n        })\r\n    \r\n        const data = await response.json()\r\n    \r\n        if(data.user){\r\n          localStorage.setItem('token', data.user)\r\n          alert('Login successful ')\r\n          const user = jwt_decode(data.user)\r\n          if(user.email == ADMIN_EMAIL){\r\n            window.location.href = '/admin'\r\n          }\r\n          else{\r\n            window.location.href = '/home'\r\n    \r\n          }\r\n    \r\n        }\r\n        else{\r\n          alert('Please check your username and password')\r\n        }\r\n      }\r\n\r\n    console.log(users)\r\n\r\n    return (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Gender</th>\r\n              <th>Birth Date</th>\r\n              <th>District</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {users.map(user => (\r\n            <tr key={user._id}>\r\n              <td>{user.name}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.gender}</td>\r\n              <td>{user.birthDate}</td>\r\n              <td>{user.district}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n        </table>\r\n      )\r\n    \r\n}\r\n\r\nexport default UsersTable\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}