{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oria3\\\\Desktop\\\\\\u05DB\\u05DC\\u05DC\\u05D9\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E4\\u05E8\\u05D5\\u05D9\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8\\\\code\\\\client\\\\src\\\\pages\\\\AddRecipe.js\",\n  _s = $RefreshSig$();\nimport Navbar from '../components/Navbar';\nimport './App.css';\nimport './AddRecipe.css';\nimport React, { useState, useEffect } from 'react';\nimport jwt_decode from \"jwt-decode\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddRecipe = () => {\n  _s();\n  const navigate = useNavigate();\n  const [name, setName] = useState(null);\n  const [user, setUser] = useState(null);\n  const [recipeName, setRecipeName] = useState('');\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [cookTime, setCookTime] = useState('00:00');\n  const [prepTime, setPrepTime] = useState('00:00');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [description, setDescription] = useState('');\n  const [recipeYield, setRecipeYield] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [recipeCategories, setRecipeCategories] = useState({});\n  const [userId, setUserId] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const [instructions, setInstructions] = useState(['']);\n  ;\n  const [measurements, setMeasurements] = useState([]);\n  const [recipeIngredients, setRecipeIngredients] = useState([{\n    ingredient: '',\n    amount: '',\n    measurementId: ''\n  }]);\n  const [suggestions, setSuggestions] = useState([]);\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const handleMeasurementChange = (index, value) => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients[index].measurementId = value;\n    setRecipeIngredients(updatedIngredients);\n  };\n  const handleIngredientChange = (index, field, value) => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients[index][field] = value;\n    setRecipeIngredients(updatedIngredients);\n    console.log(updatedIngredients);\n    // Call a function to filter and update the suggestions based on the current input value\n    updateIngredientSuggestions(value, index);\n  };\n  const updateIngredientSuggestions = (inputValue, index) => {\n    // Check if the length of inputValue is at least 3 before searching for suggestions\n    if (inputValue.length >= 3) {\n      const filteredIngredients = ingredients.filter(ingredient => typeof ingredient.ingredient === 'string' && ingredient.ingredient.toLowerCase().startsWith(inputValue.toLowerCase())).map(ingredient => ingredient.ingredient);\n\n      // Update the suggestions array at the specified index\n      setSuggestions(prevSuggestions => {\n        const updatedSuggestions = [...prevSuggestions];\n        updatedSuggestions[index] = filteredIngredients;\n        return updatedSuggestions;\n      });\n    } else {\n      // Clear suggestions if inputValue is less than 3 letters\n      setSuggestions(prevSuggestions => {\n        const updatedSuggestions = [...prevSuggestions];\n        updatedSuggestions[index] = [];\n        return updatedSuggestions;\n      });\n    }\n  };\n  const handleSuggestionClick = (index, suggestion) => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients[index].ingredient = suggestion;\n    setRecipeIngredients(updatedIngredients);\n    // Clear suggestions for the clicked input field\n    setSuggestions([], index);\n  };\n  const addIngredient = () => {\n    setRecipeIngredients([...recipeIngredients, {\n      ingredient: '',\n      amount: ''\n    }]);\n  };\n  const removeIngredient = index => {\n    const updatedIngredients = [...recipeIngredients];\n    updatedIngredients.splice(index, 1);\n    setRecipeIngredients(updatedIngredients);\n  };\n  const addInstruction = () => {\n    setInstructions([...instructions, '']);\n  };\n  const removeInstruction = index => {\n    const updatedInstructions = [...instructions];\n    updatedInstructions.splice(index, 1);\n    setInstructions(updatedInstructions);\n  };\n  const handleInstructionChange = (index, value) => {\n    const updatedInstructions = [...instructions];\n    updatedInstructions[index] = value;\n    setInstructions(updatedInstructions);\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      const _user = jwt_decode(token);\n      setName(_user.name);\n      setUser(_user);\n      setUserId(_user.email);\n      if (!_user) {\n        localStorage.removeItem('token');\n        navigate.replace('/login');\n      }\n    }\n  }, [navigate]);\n  useEffect(() => {\n    if (user) {\n      fetch(`http://localhost:1337/api/groceries`).then(res => res.json()).then(data => {\n        setIngredients(data);\n      }).catch(error => console.error(error));\n    }\n  }, [user]);\n  useEffect(() => {\n    if (user) {\n      fetch(`http://localhost:1337/api/measurements`).then(res => res.json()).then(data => {\n        setMeasurements(data);\n      }).catch(error => console.error(error));\n    }\n  }, [user]);\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    setSelectedImage(file);\n  };\n  const validateForm = () => {};\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Your form validation logic goes here\n    const isFormValid = false; // Implement validateForm according to your requirements\n    console.log(isFormValid);\n    if (isFormValid) {\n      // Iterate over recipeIngredients\n      const updatedRecipeIngredients = await Promise.all(recipeIngredients.map(async recipeIngredient => {\n        // Find the corresponding ingredient in the ingredients array\n        const matchingIngredient = ingredients.find(ingredient => ingredient.ingredient === recipeIngredient.ingredient);\n        if (matchingIngredient) {\n          // Extract the ID from the matching ingredient and update the recipeIngredient\n          recipeIngredient.id = matchingIngredient.id;\n        }\n        return recipeIngredient;\n      }));\n\n      // Update state with the modified recipeIngredients array\n      setRecipeIngredients(updatedRecipeIngredients);\n\n      // const kosherCategoryIds = Object.keys(recipeCategories['kosher_categories'] || {});\n      // const isKosherCategoryValid = kosherCategoryIds.some(\n      //     (checkboxId) => recipeCategories['kosher_categories'][checkboxId]\n      // );\n\n      // if (!isKosherCategoryValid) {\n      //     setErrorMessage('Please select at least one checkbox in kosher_categories');\n      //     return;\n      // }\n      // setErrorMessage('');\n      console.log('Form Data:', {\n        recipeName,\n        selectedImage,\n        cookTime,\n        prepTime,\n        selectedCategory,\n        groceryList: recipeIngredients,\n        description,\n        //recipeServings,\n        recipeYield,\n        recipeInstructions: instructions,\n        recipeCategories\n      });\n      // setRecipeName('');\n      // setSelectedImage(null);\n      // setCookTime('00:00');\n      // setPrepTime('00:00');\n      // setSelectedCategory('');\n      // setSearchTerm('');\n      // setSelectedMeasurement('');\n      // setAmount('');\n      // setDescription('');\n      // setRecipeServings(1);\n      // setRecipeYield('');\n      // setRecipeInstructions('');\n      // setRecipeCategories({});\n      // setGroceryList([]);\n      const formData = new FormData();\n      formData.append('selectedImage', selectedImage);\n      formData.append('recipeName', recipeName);\n      formData.append('cookTime', cookTime);\n      formData.append('prepTime', prepTime);\n      formData.append('selectedCategory', selectedCategory);\n      formData.append('groceryList', JSON.stringify(recipeIngredients)); // Assuming groceryList is an array\n      formData.append('description', description);\n      //formData.append('recipeServings', recipeServings);\n      formData.append('recipeYield', recipeYield);\n      formData.append('recipeInstructions', instructions);\n      formData.append('recipeCategories', recipeCategories);\n      formData.append('name', name);\n      formData.append('userId', userId);\n      try {\n        const response = await fetch('http://localhost:1337/api/addRecipe', {\n          method: 'POST',\n          body: formData\n        });\n        if (response.ok) {\n          const result = await response.json();\n          console.log(result); // Recipe successfully added\n        } else {\n          console.error(`HTTP Error: ${response.status}`);\n          // Handle error response\n        }\n      } catch (error) {\n        console.error(error);\n        // Handle fetch error (e.g., network error)\n      }\n    } else {\n      // Update state to show the error message\n      setFormSubmitted(true);\n    }\n  };\n  const formatCategoryName = category => {\n    return category.replace(/_/g, ' ').replace(/categories/g, '').trim().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n  };\n  const calculateTotalMinutes = time => {\n    const [hours, minutes] = time.split(':').map(Number);\n    return hours * 60 + minutes;\n  };\n  useEffect(() => {\n    const computeTimeCategoryTag = (prep, cook) => {\n      const totalMinutes = calculateTotalMinutes(prep) + calculateTotalMinutes(cook);\n      if (totalMinutes >= 60) {\n        return 'more than 1 hour';\n      } else if (totalMinutes >= 30) {\n        return '30-60 min';\n      } else if (totalMinutes >= 15) {\n        return '15-30 min';\n      } else {\n        return '0-15 min';\n      }\n    };\n    const timeTag = computeTimeCategoryTag(prepTime, cookTime);\n\n    // Update the time category in checkedItems\n    setRecipeCategories(prevCheckedItems => ({\n      ...prevCheckedItems,\n      time_categories: {\n        [timeTag]: true\n      }\n    }));\n  }, [prepTime, cookTime]);\n  const handleRemoveTag = (category, id) => {\n    setRecipeCategories(prevCheckedItems => {\n      const updatedCheckedItems = {\n        ...prevCheckedItems\n      };\n      updatedCheckedItems[category] = {\n        ...prevCheckedItems[category],\n        [id]: false // Set the value to false to \"unselect\" the tag\n      };\n\n      return updatedCheckedItems;\n    });\n  };\n  useEffect(() => {\n    fetch('http://localhost:1337/api/search_recipe').then(response => response.json()).then(data => {\n      const initialRecipeCategories = {};\n      Object.keys(data).forEach(category => {\n        initialRecipeCategories[category] = {};\n        data[category].forEach(_ref => {\n          let [id, tagName] = _ref;\n          initialRecipeCategories[category][id] = false;\n        });\n      });\n      setCategories(data);\n      setRecipeCategories(initialRecipeCategories);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  const handleSelectChange = (category, id) => {\n    setRecipeCategories(prevCategories => ({\n      ...prevCategories,\n      [category]: {\n        ...(prevCategories[category] || {}),\n        [id]: true\n      }\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [name && /*#__PURE__*/_jsxDEV(Navbar, {\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: user && /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"add-recipe-form\",\n        onSubmit: handleSubmit,\n        children: [formSubmitted && !validateForm() && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: \"Please fill in all required fields.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-details two-sections-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-left image-details-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add-image-head\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"black-title\",\n                children: \"Add Images\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-container\",\n              children: selectedImage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"recipe-image\",\n                  src: URL.createObjectURL(selectedImage),\n                  alt: \"Selected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"custom-file-upload\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-images\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input-file\",\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: handleImageChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"add-file-title\",\n                  children: \"Upload images\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-right image-details-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"description-head\",\n              children: \"Add Your Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"description-bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"black-title\",\n                children: \"Recipe Name & Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"description-fields\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"desc-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"input-title\",\n                    children: \"Recipe Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input-field\",\n                    type: \"text\",\n                    value: recipeName || '',\n                    onChange: e => setRecipeName(e.target.value),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"times-yields\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"desc-field\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"input-title\",\n                      children: \"Prep Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input-field time-field\",\n                      type: \"time\",\n                      value: prepTime,\n                      onChange: e => setPrepTime(e.target.value),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"desc-field\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"input-title\",\n                      children: \"Cook Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input-field time-field\",\n                      type: \"time\",\n                      value: cookTime,\n                      onChange: e => setCookTime(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"desc-field yields-field\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"input-title\",\n                      children: \"Yields /Servings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"input-field\",\n                      type: \"text\",\n                      value: recipeYield,\n                      onChange: e => setRecipeYield(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"desc-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"input-title\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"input-field desc-textbox\",\n                    value: description,\n                    onChange: e => setDescription(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"desc-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"input-title\",\n                    children: \"Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"input-field category-desc\",\n                    value: selectedCategory,\n                    onChange: e => setSelectedCategory(e.target.value),\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      disabled: true,\n                      children: \"Select Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 49\n                    }, this), Object.entries(categories).map(_ref2 => {\n                      let [category, entries] = _ref2;\n                      return entries.map(_ref3 => {\n                        let [id, tagName] = _ref3;\n                        return /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: tagName,\n                          children: tagName\n                        }, id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 438,\n                          columnNumber: 57\n                        }, this);\n                      });\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ingredients-steps two-sections-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-left ingredients-steps-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"black-title\",\n              children: \"Ingredients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"steps-container\",\n              children: [recipeIngredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"instruction-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"input-field ingredient-input\",\n                    placeholder: `Ingredient ${index + 1}`,\n                    value: ingredient.ingredient,\n                    onChange: e => handleIngredientChange(index, 'ingredient', e.target.value),\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 49\n                  }, this), Array.isArray(suggestions[index]) && suggestions[index].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ingredient-suggestions\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"toggle-bar\",\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        children: suggestions[index].map((suggestion, suggestionIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          onClick: () => handleSuggestionClick(index, suggestion),\n                          children: suggestion\n                        }, suggestionIndex, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 477,\n                          columnNumber: 69\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 475,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"input-field step-input amount-input\",\n                  placeholder: `Amount ${index + 1}`,\n                  value: ingredient.amount,\n                  onChange: e => handleIngredientChange(index, 'amount', e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"input-field step-input measure-input selectWithScrollbar\",\n                  value: ingredient.measurementId || '',\n                  onChange: e => handleMeasurementChange(index, e.target.value),\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: `Measurement ${index + 1}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 49\n                  }, this), measurements.map((measurement, measurementIndex) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: measurement.id,\n                    children: measurement.measurement\n                  }, measurementIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 53\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  onClick: () => removeIngredient(index),\n                  className: \"bi bi-x-circle remove-icon\",\n                  title: \"Remove Ingredient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 45\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 41\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addIngredient,\n                className: \"add-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-plus-circle add-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Add another ingredient\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-right ingredients-steps-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"black-title\",\n              children: \"Instructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"steps-container\",\n              children: [instructions.map((instruction, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"instruction-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input-field step-input\",\n                  placeholder: `Instruction ${index + 1}`,\n                  value: instruction,\n                  onChange: e => handleInstructionChange(index, e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  onClick: () => removeInstruction(index),\n                  className: \"bi bi-x-circle remove-icon\",\n                  title: \"Remove Instruction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 45\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 41\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addInstruction,\n                className: \"add-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-plus-circle add-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Add another instruction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tags-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"black-title\",\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tags-container\",\n            children: categories && Object.entries(categories).map(_ref4 => {\n              let [category, entries] = _ref4;\n              return category !== 'time_categories' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"select-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"category-name\",\n                  children: formatCategoryName(category)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"input-field select-category\",\n                  value: recipeCategories[category],\n                  onChange: e => handleSelectChange(category, e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: [\"Select \", formatCategoryName(category)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 49\n                  }, this), entries && entries.map(_ref5 => {\n                    let [id, tagName] = _ref5;\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: id,\n                      children: tagName\n                    }, id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 53\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 45\n                }, this)]\n              }, category, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"separator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-tags-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"black-title\",\n              children: \"Selected Tags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-tags\",\n              children: Object.entries(recipeCategories).map(_ref6 => {\n                let [category, tags] = _ref6;\n                return category !== 'time_categories' && Object.entries(tags).map(_ref7 => {\n                  let [id, checked] = _ref7;\n                  return checked && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag-container\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"tag-rec\",\n                      children: categories[category].find(_ref8 => {\n                        let [tagId] = _ref8;\n                        return tagId === parseInt(id, 10);\n                      })[1]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-x-circle remove-icon remove-tag\",\n                      onClick: () => handleRemoveTag(category, id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 57\n                    }, this)]\n                  }, id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 53\n                  }, this);\n                });\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit-section\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"publish-btn\",\n            type: \"submit\",\n            children: \"Publish\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 9\n  }, this);\n};\n_s(AddRecipe, \"UBg7obuYsWQ7S3Zj9EWWPCkEN6E=\", false, function () {\n  return [useNavigate];\n});\n_c = AddRecipe;\nexport default AddRecipe;\n\n// const [searchTerm, setSearchTerm] = useState('');\n// const [filteredIngredients, setFilteredIngredients] = useState([]);\n// const [selectedIngredient, setSelectedIngredient] = useState('');\n// const [selectedMeasurement, setSelectedMeasurement] = useState('');\n// const [amount, setAmount] = useState('');\n// const [ingredientsList, setIngredientsList] = useState([]);\nvar _c;\n$RefreshReg$(_c, \"AddRecipe\");","map":{"version":3,"names":["Navbar","React","useState","useEffect","jwt_decode","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AddRecipe","_s","navigate","name","setName","user","setUser","recipeName","setRecipeName","selectedImage","setSelectedImage","cookTime","setCookTime","prepTime","setPrepTime","selectedCategory","setSelectedCategory","description","setDescription","recipeYield","setRecipeYield","categories","setCategories","recipeCategories","setRecipeCategories","userId","setUserId","ingredients","setIngredients","instructions","setInstructions","measurements","setMeasurements","recipeIngredients","setRecipeIngredients","ingredient","amount","measurementId","suggestions","setSuggestions","formSubmitted","setFormSubmitted","handleMeasurementChange","index","value","updatedIngredients","handleIngredientChange","field","console","log","updateIngredientSuggestions","inputValue","length","filteredIngredients","filter","toLowerCase","startsWith","map","prevSuggestions","updatedSuggestions","handleSuggestionClick","suggestion","addIngredient","removeIngredient","splice","addInstruction","removeInstruction","updatedInstructions","handleInstructionChange","token","localStorage","getItem","_user","email","removeItem","replace","fetch","then","res","json","data","catch","error","handleImageChange","event","file","target","files","validateForm","handleSubmit","e","preventDefault","isFormValid","updatedRecipeIngredients","Promise","all","recipeIngredient","matchingIngredient","find","id","groceryList","recipeInstructions","formData","FormData","append","JSON","stringify","response","method","body","ok","result","status","formatCategoryName","category","trim","split","word","charAt","toUpperCase","slice","join","calculateTotalMinutes","time","hours","minutes","Number","computeTimeCategoryTag","prep","cook","totalMinutes","timeTag","prevCheckedItems","time_categories","handleRemoveTag","updatedCheckedItems","initialRecipeCategories","Object","keys","forEach","_ref","tagName","handleSelectChange","prevCategories","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","style","color","src","URL","createObjectURL","alt","type","accept","onChange","required","disabled","entries","_ref2","_ref3","placeholder","Array","isArray","suggestionIndex","onClick","measurement","measurementIndex","title","instruction","_ref4","_ref5","_ref6","tags","_ref7","checked","_ref8","tagId","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/oria3/Desktop/כללי/לימודים/שנה ג/פרוייקט גמר/code/client/src/pages/AddRecipe.js"],"sourcesContent":["import Navbar from '../components/Navbar';\nimport './App.css';\nimport './AddRecipe.css'\nimport React, { useState, useEffect } from 'react';\nimport jwt_decode from \"jwt-decode\";\nimport { useNavigate } from 'react-router-dom'\n\nconst AddRecipe = () => {\n    const navigate = useNavigate()\n    const [name, setName] = useState(null)\n    const [user, setUser] = useState(null)\n    const [recipeName, setRecipeName] = useState('');\n    const [selectedImage, setSelectedImage] = useState(null);\n    const [cookTime, setCookTime] = useState('00:00');\n    const [prepTime, setPrepTime] = useState('00:00');\n    const [selectedCategory, setSelectedCategory] = useState('');\n    const [description, setDescription] = useState('');\n    const [recipeYield, setRecipeYield] = useState('');\n    const [categories, setCategories] = useState([]);\n    const [recipeCategories, setRecipeCategories] = useState({});\n    const [userId, setUserId] = useState('');\n    const [ingredients, setIngredients] = useState([])\n    const [instructions, setInstructions] = useState(['']);;\n    const [measurements, setMeasurements] = useState([]);\n    const [recipeIngredients, setRecipeIngredients] = useState([{ ingredient: '', amount: '', measurementId: '' }]);\n    const [suggestions, setSuggestions] = useState([]);\n    const [formSubmitted, setFormSubmitted] = useState(false);\n\n    const handleMeasurementChange = (index, value) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients[index].measurementId = value;\n        setRecipeIngredients(updatedIngredients);\n    };\n\n    const handleIngredientChange = (index, field, value) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients[index][field] = value;\n        setRecipeIngredients(updatedIngredients);\n        console.log(updatedIngredients)\n        // Call a function to filter and update the suggestions based on the current input value\n        updateIngredientSuggestions(value, index);\n    };\n\n    const updateIngredientSuggestions = (inputValue, index) => {\n        // Check if the length of inputValue is at least 3 before searching for suggestions\n        if (inputValue.length >= 3) {\n            const filteredIngredients = ingredients\n                .filter((ingredient) =>\n                    typeof ingredient.ingredient === 'string' &&\n                    ingredient.ingredient.toLowerCase().startsWith(inputValue.toLowerCase())\n                )\n                .map((ingredient) => ingredient.ingredient);\n\n            // Update the suggestions array at the specified index\n            setSuggestions((prevSuggestions) => {\n                const updatedSuggestions = [...prevSuggestions];\n                updatedSuggestions[index] = filteredIngredients;\n                return updatedSuggestions;\n            });\n        } else {\n            // Clear suggestions if inputValue is less than 3 letters\n            setSuggestions((prevSuggestions) => {\n                const updatedSuggestions = [...prevSuggestions];\n                updatedSuggestions[index] = [];\n                return updatedSuggestions;\n            });\n        }\n    };\n\n    const handleSuggestionClick = (index, suggestion) => {\n        const updatedIngredients = [...recipeIngredients];\n\n        updatedIngredients[index].ingredient = suggestion;\n        setRecipeIngredients(updatedIngredients);\n        // Clear suggestions for the clicked input field\n        setSuggestions([], index);\n    };\n\n    const addIngredient = () => {\n        setRecipeIngredients([...recipeIngredients, { ingredient: '', amount: '' }]);\n    };\n\n    const removeIngredient = (index) => {\n        const updatedIngredients = [...recipeIngredients];\n        updatedIngredients.splice(index, 1);\n        setRecipeIngredients(updatedIngredients);\n    };\n\n    const addInstruction = () => {\n        setInstructions([...instructions, '']);\n    };\n\n    const removeInstruction = (index) => {\n        const updatedInstructions = [...instructions];\n        updatedInstructions.splice(index, 1);\n        setInstructions(updatedInstructions);\n    };\n\n    const handleInstructionChange = (index, value) => {\n        const updatedInstructions = [...instructions];\n        updatedInstructions[index] = value;\n        setInstructions(updatedInstructions);\n    };\n\n    useEffect(() => {\n        const token = localStorage.getItem('token')\n        if (token) {\n            const _user = jwt_decode(token)\n            setName(_user.name)\n            setUser(_user)\n            setUserId(_user.email)\n            if (!_user) {\n                localStorage.removeItem('token')\n                navigate.replace('/login')\n            }\n        }\n    }, [navigate])\n\n    useEffect(() => {\n        if (user) {\n            fetch(`http://localhost:1337/api/groceries`)\n                .then(res => res.json())\n                .then(data => {\n                    setIngredients(data)\n                })\n                .catch(error => console.error(error))\n        }\n    }, [user]);\n\n    useEffect(() => {\n        if (user) {\n            fetch(`http://localhost:1337/api/measurements`)\n                .then(res => res.json())\n                .then(data => {\n                    setMeasurements(data)\n                })\n                .catch(error => console.error(error))\n        }\n    }, [user]);\n\n    const handleImageChange = (event) => {\n        const file = event.target.files[0];\n        setSelectedImage(file);\n    };\n\n    const validateForm = () => {\n\n    };\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // Your form validation logic goes here\n        const isFormValid = false; // Implement validateForm according to your requirements\n        console.log(isFormValid)\n        if (isFormValid) {\n            // Iterate over recipeIngredients\n            const updatedRecipeIngredients = await Promise.all(recipeIngredients.map(async (recipeIngredient) => {\n                // Find the corresponding ingredient in the ingredients array\n                const matchingIngredient = ingredients.find((ingredient) => ingredient.ingredient === recipeIngredient.ingredient);\n\n                if (matchingIngredient) {\n                    // Extract the ID from the matching ingredient and update the recipeIngredient\n                    recipeIngredient.id = matchingIngredient.id;\n                }\n\n                return recipeIngredient;\n            }));\n\n            // Update state with the modified recipeIngredients array\n            setRecipeIngredients(updatedRecipeIngredients);\n\n            // const kosherCategoryIds = Object.keys(recipeCategories['kosher_categories'] || {});\n            // const isKosherCategoryValid = kosherCategoryIds.some(\n            //     (checkboxId) => recipeCategories['kosher_categories'][checkboxId]\n            // );\n\n            // if (!isKosherCategoryValid) {\n            //     setErrorMessage('Please select at least one checkbox in kosher_categories');\n            //     return;\n            // }\n            // setErrorMessage('');\n            console.log('Form Data:', {\n                recipeName,\n                selectedImage,\n                cookTime,\n                prepTime,\n                selectedCategory,\n                groceryList: recipeIngredients,\n                description,\n                //recipeServings,\n                recipeYield,\n                recipeInstructions: instructions,\n                recipeCategories,\n            });\n            // setRecipeName('');\n            // setSelectedImage(null);\n            // setCookTime('00:00');\n            // setPrepTime('00:00');\n            // setSelectedCategory('');\n            // setSearchTerm('');\n            // setSelectedMeasurement('');\n            // setAmount('');\n            // setDescription('');\n            // setRecipeServings(1);\n            // setRecipeYield('');\n            // setRecipeInstructions('');\n            // setRecipeCategories({});\n            // setGroceryList([]);\n            const formData = new FormData();\n            formData.append('selectedImage', selectedImage);\n            formData.append('recipeName', recipeName);\n            formData.append('cookTime', cookTime);\n            formData.append('prepTime', prepTime);\n            formData.append('selectedCategory', selectedCategory);\n            formData.append('groceryList', JSON.stringify(recipeIngredients)); // Assuming groceryList is an array\n            formData.append('description', description);\n            //formData.append('recipeServings', recipeServings);\n            formData.append('recipeYield', recipeYield);\n            formData.append('recipeInstructions', instructions);\n            formData.append('recipeCategories', recipeCategories);\n            formData.append('name', name);\n            formData.append('userId', userId);\n\n            try {\n                const response = await fetch('http://localhost:1337/api/addRecipe', {\n                    method: 'POST',\n                    body: formData,\n                });\n                if (response.ok) {\n                    const result = await response.json();\n                    console.log(result); // Recipe successfully added\n                } else {\n                    console.error(`HTTP Error: ${response.status}`);\n                    // Handle error response\n                }\n            } catch (error) {\n                console.error(error);\n                // Handle fetch error (e.g., network error)\n            }\n        } else {\n            // Update state to show the error message\n            setFormSubmitted(true);\n        }\n\n\n    };\n\n    const formatCategoryName = (category) => {\n        return category\n            .replace(/_/g, ' ')\n            .replace(/categories/g, '')\n            .trim()\n            .split(' ')\n            .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n            .join(' ');\n    };\n\n    const calculateTotalMinutes = (time) => {\n        const [hours, minutes] = time.split(':').map(Number);\n        return hours * 60 + minutes;\n    };\n\n    useEffect(() => {\n        const computeTimeCategoryTag = (prep, cook) => {\n            const totalMinutes = calculateTotalMinutes(prep) + calculateTotalMinutes(cook);\n\n            if (totalMinutes >= 60) {\n                return 'more than 1 hour';\n            } else if (totalMinutes >= 30) {\n                return '30-60 min';\n            } else if (totalMinutes >= 15) {\n                return '15-30 min';\n            } else {\n                return '0-15 min';\n            }\n        };\n\n        const timeTag = computeTimeCategoryTag(prepTime, cookTime);\n\n        // Update the time category in checkedItems\n        setRecipeCategories((prevCheckedItems) => ({\n            ...prevCheckedItems,\n            time_categories: {\n                [timeTag]: true,\n            },\n        }));\n    }, [prepTime, cookTime]);\n\n    const handleRemoveTag = (category, id) => {\n        setRecipeCategories((prevCheckedItems) => {\n            const updatedCheckedItems = { ...prevCheckedItems };\n            updatedCheckedItems[category] = {\n                ...prevCheckedItems[category],\n                [id]: false, // Set the value to false to \"unselect\" the tag\n            };\n            return updatedCheckedItems;\n        });\n    };\n\n    useEffect(() => {\n        fetch('http://localhost:1337/api/search_recipe')\n            .then(response => response.json())\n            .then(data => {\n                const initialRecipeCategories = {};\n                Object.keys(data).forEach(category => {\n                    initialRecipeCategories[category] = {};\n                    data[category].forEach(([id, tagName]) => {\n                        initialRecipeCategories[category][id] = false;\n                    });\n                });\n                setCategories(data);\n                setRecipeCategories(initialRecipeCategories);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, []);\n\n    const handleSelectChange = (category, id) => {\n        setRecipeCategories((prevCategories) => ({\n            ...prevCategories,\n            [category]: {\n                ...(prevCategories[category] || {}),\n                [id]: true,\n            },\n        }));\n    };\n\n    return (\n        <div>\n            {name && <Navbar name={name} />}\n            <div>\n                {user && (\n                    <form className='add-recipe-form' onSubmit={handleSubmit}>\n                    {formSubmitted && !validateForm() && (\n                        <div style={{ color: 'red' }}>Please fill in all required fields.</div>\n                    )}\n                        <div className='image-details two-sections-wrapper'>\n\n                            <div className='section-left image-details-left'>\n                                <div className='add-image-head'>\n                                    <label className='black-title'>Add Images</label>\n                                </div>\n\n                                <div className='image-container'>\n                                    {selectedImage ? (\n                                        <>\n                                            <img className='recipe-image' src={URL.createObjectURL(selectedImage)} alt=\"Selected\" />\n                                        </>\n                                    ) : (\n                                        <>\n                                            <label className=\"custom-file-upload\">\n                                                <i className=\"bi bi-images\"></i>\n                                                <input className=\"input-file\" type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\n                                            </label>\n                                            <label className='add-file-title'>Upload images</label>\n                                        </>\n                                    )}\n                                </div>\n\n                            </div>\n\n                            <div className='section-right image-details-right'>\n                                <div className='description-head'>Add Your Recipe</div>\n                                <div className='description-bottom'>\n                                    <div className='black-title'>Recipe Name & Description</div>\n\n                                    <div className='description-fields'>\n                                        <div className='desc-field'>\n                                            <label className='input-title'>Recipe Name</label>\n                                            <input\n                                                className='input-field'\n                                                type=\"text\"\n                                                value={recipeName || ''}\n                                                onChange={(e) => setRecipeName(e.target.value)}\n                                                required\n                                            />\n                                        </div>\n\n                                        <div className='times-yields'>\n\n                                            <div className='desc-field'>\n                                                <label className='input-title'>Prep Time</label>\n                                                <input\n                                                    className='input-field time-field'\n                                                    type=\"time\"\n                                                    value={prepTime}\n                                                    onChange={(e) => setPrepTime(e.target.value)}\n                                                    required\n                                                />\n                                            </div>\n\n                                            <div className='desc-field'>\n                                                <label className='input-title'>Cook Time</label>\n                                                <input\n                                                    className='input-field time-field'\n                                                    type=\"time\"\n                                                    value={cookTime}\n                                                    onChange={(e) => setCookTime(e.target.value)}\n                                                />\n                                            </div>\n\n                                            <div className='desc-field yields-field'>\n                                                <label className='input-title'>Yields /Servings</label>\n                                                <input\n                                                    className='input-field'\n                                                    type=\"text\"\n                                                    value={recipeYield}\n                                                    onChange={(e) => setRecipeYield(e.target.value)}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        <div className='desc-field'>\n                                            <label className='input-title'>Description</label>\n                                            <textarea\n                                                className='input-field desc-textbox'\n                                                value={description}\n                                                onChange={(e) => setDescription(e.target.value)}\n                                            />\n                                        </div>\n\n                                        <div className='desc-field'>\n                                            <label className='input-title'>Category</label>\n                                            <select\n                                                className='input-field category-desc'\n                                                value={selectedCategory}\n                                                onChange={(e) => setSelectedCategory(e.target.value)}\n                                                required\n                                            >\n                                                <option value=\"\" disabled>\n                                                    Select Category\n                                                </option>\n                                                {Object.entries(categories).map(([category, entries]) => (\n                                                    entries.map(([id, tagName]) => (\n                                                        <option key={id} value={tagName}>\n                                                            {tagName}\n                                                        </option>\n                                                    ))\n                                                ))}\n                                            </select>\n                                        </div>\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className='ingredients-steps two-sections-wrapper'>\n\n                            <div className='section-left ingredients-steps-section'>\n                                <label className='black-title'>Ingredients</label>\n\n\n                                <div className='steps-container'>\n\n\n                                    {recipeIngredients.map((ingredient, index) => (\n                                        <div key={index} className='instruction-row'>\n\n                                            <div className=\"input-container\">\n                                                <input\n                                                    className='input-field ingredient-input'\n                                                    placeholder={`Ingredient ${index + 1}`}\n                                                    value={ingredient.ingredient}\n                                                    onChange={(e) => handleIngredientChange(index, 'ingredient', e.target.value)}\n                                                    required\n                                                />\n\n                                                {Array.isArray(suggestions[index]) && suggestions[index].length > 0 && (\n                                                    <div className='ingredient-suggestions'>\n                                                        <div className='toggle-bar'>\n                                                            <ul>\n                                                                {suggestions[index].map((suggestion, suggestionIndex) => (\n                                                                    <li key={suggestionIndex} onClick={() => handleSuggestionClick(index, suggestion)}>\n                                                                        {suggestion}\n                                                                    </li>\n                                                                ))}\n                                                            </ul>\n                                                        </div>\n                                                    </div>\n                                                )}\n\n                                            </div>\n\n                                            <input\n                                                type=\"number\"\n                                                className='input-field step-input amount-input'\n                                                placeholder={`Amount ${index + 1}`}\n                                                value={ingredient.amount}\n                                                onChange={(e) => handleIngredientChange(index, 'amount', e.target.value)}\n                                                required\n                                            />\n\n                                            <select\n                                                className='input-field step-input measure-input selectWithScrollbar'\n                                                value={ingredient.measurementId || ''}\n                                                onChange={(e) => handleMeasurementChange(index, e.target.value)}\n                                                required\n                                            >\n                                                <option value='' disabled>{`Measurement ${index + 1}`}</option>\n                                                {measurements.map((measurement, measurementIndex) => (\n                                                    <option key={measurementIndex} value={measurement.id}>\n                                                        {measurement.measurement}\n                                                    </option>\n                                                ))}\n                                            </select>\n\n                                            <i\n                                                onClick={() => removeIngredient(index)}\n                                                className='bi bi-x-circle remove-icon'\n                                                title='Remove Ingredient'\n                                            ></i>\n                                        </div>\n                                    ))}\n\n                                    <button onClick={addIngredient} className='add-btn'>\n                                        <i className=\"bi bi-plus-circle add-icon\"></i>\n                                        <span>Add another ingredient</span>\n                                    </button>\n\n                                </div>\n\n                            </div>\n\n                            <div className='section-right ingredients-steps-section'>\n                                <label className='black-title'>Instructions</label>\n\n                                <div className='steps-container'>\n\n                                    {instructions.map((instruction, index) => (\n                                        <div key={index} className='instruction-row'>\n                                            <input\n                                                className='input-field step-input'\n                                                placeholder={`Instruction ${index + 1}`}\n                                                value={instruction}\n                                                onChange={(e) => handleInstructionChange(index, e.target.value)}\n                                                required\n                                            />\n                                            <i\n                                                onClick={() => removeInstruction(index)}\n                                                className='bi bi-x-circle remove-icon'\n                                                title='Remove Instruction'\n                                            ></i>\n                                        </div>\n                                    ))}\n\n                                    <button onClick={addInstruction} className='add-btn'>\n                                        <i className=\"bi bi-plus-circle add-icon\"></i>\n                                        <span>Add another instruction</span>\n                                    </button>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n                        <div className='tags-section'>\n                            <label className='black-title'>Tags</label>\n\n                            <div className='tags-container'>\n                                {categories && Object.entries(categories).map(([category, entries]) => (\n                                    category !== 'time_categories' && (\n                                        <div key={category} className=\"select-container\">\n                                            <label className='category-name'>{formatCategoryName(category)}</label>\n                                            <select\n                                                className='input-field select-category'\n                                                value={recipeCategories[category]}\n                                                onChange={(e) => handleSelectChange(category, e.target.value)}\n                                            >\n                                                <option value=\"\">Select {formatCategoryName(category)}</option>\n                                                {entries && entries.map(([id, tagName]) => (\n                                                    <option key={id} value={id}>\n                                                        {tagName}\n                                                    </option>\n                                                ))}\n                                            </select>\n                                        </div>\n                                    )\n                                ))}\n                            </div>\n\n                            <hr className=\"separator\" />\n\n                            <div className='selected-tags-container'>\n                                <label className='black-title'>Selected Tags</label>\n                                <div className='selected-tags'>\n                                    {Object.entries(recipeCategories).map(([category, tags]) => (\n                                        category !== 'time_categories' && (\n                                            Object.entries(tags).map(([id, checked]) => (\n                                                checked && (\n                                                    <span key={id} className='tag-container'>\n                                                        <label className='tag-rec'>\n                                                            {categories[category].find(([tagId]) => tagId === parseInt(id, 10))[1]}\n                                                        </label>\n                                                        <i\n                                                            className='bi bi-x-circle remove-icon remove-tag'\n                                                            onClick={() => handleRemoveTag(category, id)}\n                                                        ></i>\n                                                    </span>\n                                                )\n                                            ))\n                                        )\n                                    ))}\n                                </div>\n                            </div>\n\n                        </div>\n\n\n\n                        <div className='submit-section'>\n                            <button className='publish-btn' type=\"submit\" >Publish</button>\n                        </div>\n                    </form>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default AddRecipe\n\n\n\n// const [searchTerm, setSearchTerm] = useState('');\n// const [filteredIngredients, setFilteredIngredients] = useState([]);\n// const [selectedIngredient, setSelectedIngredient] = useState('');\n// const [selectedMeasurement, setSelectedMeasurement] = useState('');\n// const [amount, setAmount] = useState('');\n// const [ingredientsList, setIngredientsList] = useState([]);"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,sBAAsB;AACzC,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,WAAW,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE9C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,QAAQ,GAAGP,WAAW,EAAE;EAC9B,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,OAAO,CAAC;EACjD,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC,OAAO,CAAC;EACjD,MAAM,CAACuB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACyB,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC2B,WAAW,EAAEC,cAAc,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC+B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5D,MAAM,CAACiC,MAAM,EAAEC,SAAS,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACqC,YAAY,EAAEC,eAAe,CAAC,GAAGtC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EAAC;EACvD,MAAM,CAACuC,YAAY,EAAEC,eAAe,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACyC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG1C,QAAQ,CAAC,CAAC;IAAE2C,UAAU,EAAE,EAAE;IAAEC,MAAM,EAAE,EAAE;IAAEC,aAAa,EAAE;EAAG,CAAC,CAAC,CAAC;EAC/G,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgD,aAAa,EAAEC,gBAAgB,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAMkD,uBAAuB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC9C,MAAMC,kBAAkB,GAAG,CAAC,GAAGZ,iBAAiB,CAAC;IACjDY,kBAAkB,CAACF,KAAK,CAAC,CAACN,aAAa,GAAGO,KAAK;IAC/CV,oBAAoB,CAACW,kBAAkB,CAAC;EAC5C,CAAC;EAED,MAAMC,sBAAsB,GAAGA,CAACH,KAAK,EAAEI,KAAK,EAAEH,KAAK,KAAK;IACpD,MAAMC,kBAAkB,GAAG,CAAC,GAAGZ,iBAAiB,CAAC;IACjDY,kBAAkB,CAACF,KAAK,CAAC,CAACI,KAAK,CAAC,GAAGH,KAAK;IACxCV,oBAAoB,CAACW,kBAAkB,CAAC;IACxCG,OAAO,CAACC,GAAG,CAACJ,kBAAkB,CAAC;IAC/B;IACAK,2BAA2B,CAACN,KAAK,EAAED,KAAK,CAAC;EAC7C,CAAC;EAED,MAAMO,2BAA2B,GAAGA,CAACC,UAAU,EAAER,KAAK,KAAK;IACvD;IACA,IAAIQ,UAAU,CAACC,MAAM,IAAI,CAAC,EAAE;MACxB,MAAMC,mBAAmB,GAAG1B,WAAW,CAClC2B,MAAM,CAAEnB,UAAU,IACf,OAAOA,UAAU,CAACA,UAAU,KAAK,QAAQ,IACzCA,UAAU,CAACA,UAAU,CAACoB,WAAW,EAAE,CAACC,UAAU,CAACL,UAAU,CAACI,WAAW,EAAE,CAAC,CAC3E,CACAE,GAAG,CAAEtB,UAAU,IAAKA,UAAU,CAACA,UAAU,CAAC;;MAE/C;MACAI,cAAc,CAAEmB,eAAe,IAAK;QAChC,MAAMC,kBAAkB,GAAG,CAAC,GAAGD,eAAe,CAAC;QAC/CC,kBAAkB,CAAChB,KAAK,CAAC,GAAGU,mBAAmB;QAC/C,OAAOM,kBAAkB;MAC7B,CAAC,CAAC;IACN,CAAC,MAAM;MACH;MACApB,cAAc,CAAEmB,eAAe,IAAK;QAChC,MAAMC,kBAAkB,GAAG,CAAC,GAAGD,eAAe,CAAC;QAC/CC,kBAAkB,CAAChB,KAAK,CAAC,GAAG,EAAE;QAC9B,OAAOgB,kBAAkB;MAC7B,CAAC,CAAC;IACN;EACJ,CAAC;EAED,MAAMC,qBAAqB,GAAGA,CAACjB,KAAK,EAAEkB,UAAU,KAAK;IACjD,MAAMhB,kBAAkB,GAAG,CAAC,GAAGZ,iBAAiB,CAAC;IAEjDY,kBAAkB,CAACF,KAAK,CAAC,CAACR,UAAU,GAAG0B,UAAU;IACjD3B,oBAAoB,CAACW,kBAAkB,CAAC;IACxC;IACAN,cAAc,CAAC,EAAE,EAAEI,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMmB,aAAa,GAAGA,CAAA,KAAM;IACxB5B,oBAAoB,CAAC,CAAC,GAAGD,iBAAiB,EAAE;MAAEE,UAAU,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAG,CAAC,CAAC,CAAC;EAChF,CAAC;EAED,MAAM2B,gBAAgB,GAAIpB,KAAK,IAAK;IAChC,MAAME,kBAAkB,GAAG,CAAC,GAAGZ,iBAAiB,CAAC;IACjDY,kBAAkB,CAACmB,MAAM,CAACrB,KAAK,EAAE,CAAC,CAAC;IACnCT,oBAAoB,CAACW,kBAAkB,CAAC;EAC5C,CAAC;EAED,MAAMoB,cAAc,GAAGA,CAAA,KAAM;IACzBnC,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAE,EAAE,CAAC,CAAC;EAC1C,CAAC;EAED,MAAMqC,iBAAiB,GAAIvB,KAAK,IAAK;IACjC,MAAMwB,mBAAmB,GAAG,CAAC,GAAGtC,YAAY,CAAC;IAC7CsC,mBAAmB,CAACH,MAAM,CAACrB,KAAK,EAAE,CAAC,CAAC;IACpCb,eAAe,CAACqC,mBAAmB,CAAC;EACxC,CAAC;EAED,MAAMC,uBAAuB,GAAGA,CAACzB,KAAK,EAAEC,KAAK,KAAK;IAC9C,MAAMuB,mBAAmB,GAAG,CAAC,GAAGtC,YAAY,CAAC;IAC7CsC,mBAAmB,CAACxB,KAAK,CAAC,GAAGC,KAAK;IAClCd,eAAe,CAACqC,mBAAmB,CAAC;EACxC,CAAC;EAED1E,SAAS,CAAC,MAAM;IACZ,MAAM4E,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACP,MAAMG,KAAK,GAAG9E,UAAU,CAAC2E,KAAK,CAAC;MAC/BjE,OAAO,CAACoE,KAAK,CAACrE,IAAI,CAAC;MACnBG,OAAO,CAACkE,KAAK,CAAC;MACd9C,SAAS,CAAC8C,KAAK,CAACC,KAAK,CAAC;MACtB,IAAI,CAACD,KAAK,EAAE;QACRF,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC;QAChCxE,QAAQ,CAACyE,OAAO,CAAC,QAAQ,CAAC;MAC9B;IACJ;EACJ,CAAC,EAAE,CAACzE,QAAQ,CAAC,CAAC;EAEdT,SAAS,CAAC,MAAM;IACZ,IAAIY,IAAI,EAAE;MACNuE,KAAK,CAAE,qCAAoC,CAAC,CACvCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACVpD,cAAc,CAACoD,IAAI,CAAC;MACxB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIlC,OAAO,CAACkC,KAAK,CAACA,KAAK,CAAC,CAAC;IAC7C;EACJ,CAAC,EAAE,CAAC7E,IAAI,CAAC,CAAC;EAEVZ,SAAS,CAAC,MAAM;IACZ,IAAIY,IAAI,EAAE;MACNuE,KAAK,CAAE,wCAAuC,CAAC,CAC1CC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACVhD,eAAe,CAACgD,IAAI,CAAC;MACzB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIlC,OAAO,CAACkC,KAAK,CAACA,KAAK,CAAC,CAAC;IAC7C;EACJ,CAAC,EAAE,CAAC7E,IAAI,CAAC,CAAC;EAEV,MAAM8E,iBAAiB,GAAIC,KAAK,IAAK;IACjC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC7E,gBAAgB,CAAC2E,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMG,YAAY,GAAGA,CAAA,KAAM,CAE3B,CAAC;EAGD,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,EAAE;;IAElB;IACA,MAAMC,WAAW,GAAG,KAAK,CAAC,CAAC;IAC3B5C,OAAO,CAACC,GAAG,CAAC2C,WAAW,CAAC;IACxB,IAAIA,WAAW,EAAE;MACb;MACA,MAAMC,wBAAwB,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC9D,iBAAiB,CAACwB,GAAG,CAAC,MAAOuC,gBAAgB,IAAK;QACjG;QACA,MAAMC,kBAAkB,GAAGtE,WAAW,CAACuE,IAAI,CAAE/D,UAAU,IAAKA,UAAU,CAACA,UAAU,KAAK6D,gBAAgB,CAAC7D,UAAU,CAAC;QAElH,IAAI8D,kBAAkB,EAAE;UACpB;UACAD,gBAAgB,CAACG,EAAE,GAAGF,kBAAkB,CAACE,EAAE;QAC/C;QAEA,OAAOH,gBAAgB;MAC3B,CAAC,CAAC,CAAC;;MAEH;MACA9D,oBAAoB,CAAC2D,wBAAwB,CAAC;;MAE9C;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA7C,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE;QACtB1C,UAAU;QACVE,aAAa;QACbE,QAAQ;QACRE,QAAQ;QACRE,gBAAgB;QAChBqF,WAAW,EAAEnE,iBAAiB;QAC9BhB,WAAW;QACX;QACAE,WAAW;QACXkF,kBAAkB,EAAExE,YAAY;QAChCN;MACJ,CAAC,CAAC;MACF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,MAAM+E,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAE/F,aAAa,CAAC;MAC/C6F,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEjG,UAAU,CAAC;MACzC+F,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE7F,QAAQ,CAAC;MACrC2F,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE3F,QAAQ,CAAC;MACrCyF,QAAQ,CAACE,MAAM,CAAC,kBAAkB,EAAEzF,gBAAgB,CAAC;MACrDuF,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAACzE,iBAAiB,CAAC,CAAC,CAAC,CAAC;MACnEqE,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEvF,WAAW,CAAC;MAC3C;MACAqF,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAErF,WAAW,CAAC;MAC3CmF,QAAQ,CAACE,MAAM,CAAC,oBAAoB,EAAE3E,YAAY,CAAC;MACnDyE,QAAQ,CAACE,MAAM,CAAC,kBAAkB,EAAEjF,gBAAgB,CAAC;MACrD+E,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAErG,IAAI,CAAC;MAC7BmG,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE/E,MAAM,CAAC;MAEjC,IAAI;QACA,MAAMkF,QAAQ,GAAG,MAAM/B,KAAK,CAAC,qCAAqC,EAAE;UAChEgC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEP;QACV,CAAC,CAAC;QACF,IAAIK,QAAQ,CAACG,EAAE,EAAE;UACb,MAAMC,MAAM,GAAG,MAAMJ,QAAQ,CAAC5B,IAAI,EAAE;UACpC/B,OAAO,CAACC,GAAG,CAAC8D,MAAM,CAAC,CAAC,CAAC;QACzB,CAAC,MAAM;UACH/D,OAAO,CAACkC,KAAK,CAAE,eAAcyB,QAAQ,CAACK,MAAO,EAAC,CAAC;UAC/C;QACJ;MACJ,CAAC,CAAC,OAAO9B,KAAK,EAAE;QACZlC,OAAO,CAACkC,KAAK,CAACA,KAAK,CAAC;QACpB;MACJ;IACJ,CAAC,MAAM;MACH;MACAzC,gBAAgB,CAAC,IAAI,CAAC;IAC1B;EAGJ,CAAC;EAED,MAAMwE,kBAAkB,GAAIC,QAAQ,IAAK;IACrC,OAAOA,QAAQ,CACVvC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAClBA,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAC1BwC,IAAI,EAAE,CACNC,KAAK,CAAC,GAAG,CAAC,CACV3D,GAAG,CAAC4D,IAAI,IAAIA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CACzDC,IAAI,CAAC,GAAG,CAAC;EAClB,CAAC;EAED,MAAMC,qBAAqB,GAAIC,IAAI,IAAK;IACpC,MAAM,CAACC,KAAK,EAAEC,OAAO,CAAC,GAAGF,IAAI,CAACP,KAAK,CAAC,GAAG,CAAC,CAAC3D,GAAG,CAACqE,MAAM,CAAC;IACpD,OAAOF,KAAK,GAAG,EAAE,GAAGC,OAAO;EAC/B,CAAC;EAEDpI,SAAS,CAAC,MAAM;IACZ,MAAMsI,sBAAsB,GAAGA,CAACC,IAAI,EAAEC,IAAI,KAAK;MAC3C,MAAMC,YAAY,GAAGR,qBAAqB,CAACM,IAAI,CAAC,GAAGN,qBAAqB,CAACO,IAAI,CAAC;MAE9E,IAAIC,YAAY,IAAI,EAAE,EAAE;QACpB,OAAO,kBAAkB;MAC7B,CAAC,MAAM,IAAIA,YAAY,IAAI,EAAE,EAAE;QAC3B,OAAO,WAAW;MACtB,CAAC,MAAM,IAAIA,YAAY,IAAI,EAAE,EAAE;QAC3B,OAAO,WAAW;MACtB,CAAC,MAAM;QACH,OAAO,UAAU;MACrB;IACJ,CAAC;IAED,MAAMC,OAAO,GAAGJ,sBAAsB,CAAClH,QAAQ,EAAEF,QAAQ,CAAC;;IAE1D;IACAa,mBAAmB,CAAE4G,gBAAgB,KAAM;MACvC,GAAGA,gBAAgB;MACnBC,eAAe,EAAE;QACb,CAACF,OAAO,GAAG;MACf;IACJ,CAAC,CAAC,CAAC;EACP,CAAC,EAAE,CAACtH,QAAQ,EAAEF,QAAQ,CAAC,CAAC;EAExB,MAAM2H,eAAe,GAAGA,CAACpB,QAAQ,EAAEf,EAAE,KAAK;IACtC3E,mBAAmB,CAAE4G,gBAAgB,IAAK;MACtC,MAAMG,mBAAmB,GAAG;QAAE,GAAGH;MAAiB,CAAC;MACnDG,mBAAmB,CAACrB,QAAQ,CAAC,GAAG;QAC5B,GAAGkB,gBAAgB,CAAClB,QAAQ,CAAC;QAC7B,CAACf,EAAE,GAAG,KAAK,CAAE;MACjB,CAAC;;MACD,OAAOoC,mBAAmB;IAC9B,CAAC,CAAC;EACN,CAAC;EAED9I,SAAS,CAAC,MAAM;IACZmF,KAAK,CAAC,yCAAyC,CAAC,CAC3CC,IAAI,CAAC8B,QAAQ,IAAIA,QAAQ,CAAC5B,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACV,MAAMwD,uBAAuB,GAAG,CAAC,CAAC;MAClCC,MAAM,CAACC,IAAI,CAAC1D,IAAI,CAAC,CAAC2D,OAAO,CAACzB,QAAQ,IAAI;QAClCsB,uBAAuB,CAACtB,QAAQ,CAAC,GAAG,CAAC,CAAC;QACtClC,IAAI,CAACkC,QAAQ,CAAC,CAACyB,OAAO,CAACC,IAAA,IAAmB;UAAA,IAAlB,CAACzC,EAAE,EAAE0C,OAAO,CAAC,GAAAD,IAAA;UACjCJ,uBAAuB,CAACtB,QAAQ,CAAC,CAACf,EAAE,CAAC,GAAG,KAAK;QACjD,CAAC,CAAC;MACN,CAAC,CAAC;MACF7E,aAAa,CAAC0D,IAAI,CAAC;MACnBxD,mBAAmB,CAACgH,uBAAuB,CAAC;IAChD,CAAC,CAAC,CACDvD,KAAK,CAACC,KAAK,IAAI;MACZlC,OAAO,CAACkC,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM4D,kBAAkB,GAAGA,CAAC5B,QAAQ,EAAEf,EAAE,KAAK;IACzC3E,mBAAmB,CAAEuH,cAAc,KAAM;MACrC,GAAGA,cAAc;MACjB,CAAC7B,QAAQ,GAAG;QACR,IAAI6B,cAAc,CAAC7B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACnC,CAACf,EAAE,GAAG;MACV;IACJ,CAAC,CAAC,CAAC;EACP,CAAC;EAED,oBACItG,OAAA;IAAAmJ,QAAA,GACK7I,IAAI,iBAAIN,OAAA,CAACP,MAAM;MAACa,IAAI,EAAEA;IAAK;MAAA8I,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eAC/BvJ,OAAA;MAAAmJ,QAAA,EACK3I,IAAI,iBACDR,OAAA;QAAMwJ,SAAS,EAAC,iBAAiB;QAACC,QAAQ,EAAE7D,YAAa;QAAAuD,QAAA,GACxDxG,aAAa,IAAI,CAACgD,YAAY,EAAE,iBAC7B3F,OAAA;UAAK0J,KAAK,EAAE;YAAEC,KAAK,EAAE;UAAM,CAAE;UAAAR,QAAA,EAAC;QAAmC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACpE,eACGvJ,OAAA;UAAKwJ,SAAS,EAAC,oCAAoC;UAAAL,QAAA,gBAE/CnJ,OAAA;YAAKwJ,SAAS,EAAC,iCAAiC;YAAAL,QAAA,gBAC5CnJ,OAAA;cAAKwJ,SAAS,EAAC,gBAAgB;cAAAL,QAAA,eAC3BnJ,OAAA;gBAAOwJ,SAAS,EAAC,aAAa;gBAAAL,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAQ;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAC/C,eAENvJ,OAAA;cAAKwJ,SAAS,EAAC,iBAAiB;cAAAL,QAAA,EAC3BvI,aAAa,gBACVZ,OAAA,CAAAE,SAAA;gBAAAiJ,QAAA,eACInJ,OAAA;kBAAKwJ,SAAS,EAAC,cAAc;kBAACI,GAAG,EAAEC,GAAG,CAACC,eAAe,CAAClJ,aAAa,CAAE;kBAACmJ,GAAG,EAAC;gBAAU;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA;cAAG,iBACzF,gBAEHvJ,OAAA,CAAAE,SAAA;gBAAAiJ,QAAA,gBACInJ,OAAA;kBAAOwJ,SAAS,EAAC,oBAAoB;kBAAAL,QAAA,gBACjCnJ,OAAA;oBAAGwJ,SAAS,EAAC;kBAAc;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAK,eAChCvJ,OAAA;oBAAOwJ,SAAS,EAAC,YAAY;oBAACQ,IAAI,EAAC,MAAM;oBAACC,MAAM,EAAC,SAAS;oBAACC,QAAQ,EAAE5E;kBAAkB;oBAAA8D,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAG;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACtF,eACRvJ,OAAA;kBAAOwJ,SAAS,EAAC,gBAAgB;kBAAAL,QAAA,EAAC;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAQ;cAAA;YAE9D;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QACC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAEJ,eAENvJ,OAAA;YAAKwJ,SAAS,EAAC,mCAAmC;YAAAL,QAAA,gBAC9CnJ,OAAA;cAAKwJ,SAAS,EAAC,kBAAkB;cAAAL,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAM,eACvDvJ,OAAA;cAAKwJ,SAAS,EAAC,oBAAoB;cAAAL,QAAA,gBAC/BnJ,OAAA;gBAAKwJ,SAAS,EAAC,aAAa;gBAAAL,QAAA,EAAC;cAAyB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAM,eAE5DvJ,OAAA;gBAAKwJ,SAAS,EAAC,oBAAoB;gBAAAL,QAAA,gBAC/BnJ,OAAA;kBAAKwJ,SAAS,EAAC,YAAY;kBAAAL,QAAA,gBACvBnJ,OAAA;oBAAOwJ,SAAS,EAAC,aAAa;oBAAAL,QAAA,EAAC;kBAAW;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAQ,eAClDvJ,OAAA;oBACIwJ,SAAS,EAAC,aAAa;oBACvBQ,IAAI,EAAC,MAAM;oBACXjH,KAAK,EAAErC,UAAU,IAAI,EAAG;oBACxBwJ,QAAQ,EAAGrE,CAAC,IAAKlF,aAAa,CAACkF,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;oBAC/CoH,QAAQ;kBAAA;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QACV;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACA,eAENvJ,OAAA;kBAAKwJ,SAAS,EAAC,cAAc;kBAAAL,QAAA,gBAEzBnJ,OAAA;oBAAKwJ,SAAS,EAAC,YAAY;oBAAAL,QAAA,gBACvBnJ,OAAA;sBAAOwJ,SAAS,EAAC,aAAa;sBAAAL,QAAA,EAAC;oBAAS;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAAQ,eAChDvJ,OAAA;sBACIwJ,SAAS,EAAC,wBAAwB;sBAClCQ,IAAI,EAAC,MAAM;sBACXjH,KAAK,EAAE/B,QAAS;sBAChBkJ,QAAQ,EAAGrE,CAAC,IAAK5E,WAAW,CAAC4E,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;sBAC7CoH,QAAQ;oBAAA;sBAAAf,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QACV;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QACA,eAENvJ,OAAA;oBAAKwJ,SAAS,EAAC,YAAY;oBAAAL,QAAA,gBACvBnJ,OAAA;sBAAOwJ,SAAS,EAAC,aAAa;sBAAAL,QAAA,EAAC;oBAAS;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAAQ,eAChDvJ,OAAA;sBACIwJ,SAAS,EAAC,wBAAwB;sBAClCQ,IAAI,EAAC,MAAM;sBACXjH,KAAK,EAAEjC,QAAS;sBAChBoJ,QAAQ,EAAGrE,CAAC,IAAK9E,WAAW,CAAC8E,CAAC,CAACJ,MAAM,CAAC1C,KAAK;oBAAE;sBAAAqG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAC/C;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QACA,eAENvJ,OAAA;oBAAKwJ,SAAS,EAAC,yBAAyB;oBAAAL,QAAA,gBACpCnJ,OAAA;sBAAOwJ,SAAS,EAAC,aAAa;sBAAAL,QAAA,EAAC;oBAAgB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAAQ,eACvDvJ,OAAA;sBACIwJ,SAAS,EAAC,aAAa;sBACvBQ,IAAI,EAAC,MAAM;sBACXjH,KAAK,EAAEzB,WAAY;sBACnB4I,QAAQ,EAAGrE,CAAC,IAAKtE,cAAc,CAACsE,CAAC,CAACJ,MAAM,CAAC1C,KAAK;oBAAE;sBAAAqG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAClD;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QACA;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACJ,eAENvJ,OAAA;kBAAKwJ,SAAS,EAAC,YAAY;kBAAAL,QAAA,gBACvBnJ,OAAA;oBAAOwJ,SAAS,EAAC,aAAa;oBAAAL,QAAA,EAAC;kBAAW;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAQ,eAClDvJ,OAAA;oBACIwJ,SAAS,EAAC,0BAA0B;oBACpCzG,KAAK,EAAE3B,WAAY;oBACnB8I,QAAQ,EAAGrE,CAAC,IAAKxE,cAAc,CAACwE,CAAC,CAACJ,MAAM,CAAC1C,KAAK;kBAAE;oBAAAqG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAClD;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACA,eAENvJ,OAAA;kBAAKwJ,SAAS,EAAC,YAAY;kBAAAL,QAAA,gBACvBnJ,OAAA;oBAAOwJ,SAAS,EAAC,aAAa;oBAAAL,QAAA,EAAC;kBAAQ;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAQ,eAC/CvJ,OAAA;oBACIwJ,SAAS,EAAC,2BAA2B;oBACrCzG,KAAK,EAAE7B,gBAAiB;oBACxBgJ,QAAQ,EAAGrE,CAAC,IAAK1E,mBAAmB,CAAC0E,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;oBACrDoH,QAAQ;oBAAAhB,QAAA,gBAERnJ,OAAA;sBAAQ+C,KAAK,EAAC,EAAE;sBAACqH,QAAQ;sBAAAjB,QAAA,EAAC;oBAE1B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAAS,EACRX,MAAM,CAACyB,OAAO,CAAC7I,UAAU,CAAC,CAACoC,GAAG,CAAC0G,KAAA;sBAAA,IAAC,CAACjD,QAAQ,EAAEgD,OAAO,CAAC,GAAAC,KAAA;sBAAA,OAChDD,OAAO,CAACzG,GAAG,CAAC2G,KAAA;wBAAA,IAAC,CAACjE,EAAE,EAAE0C,OAAO,CAAC,GAAAuB,KAAA;wBAAA,oBACtBvK,OAAA;0BAAiB+C,KAAK,EAAEiG,OAAQ;0BAAAG,QAAA,EAC3BH;wBAAO,GADC1C,EAAE;0BAAA8C,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,QAEN;sBAAA,CACZ,CAAC;oBAAA,CACL,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QACG;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACP;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAEJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QACJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACJ,eAENvJ,OAAA;UAAKwJ,SAAS,EAAC,wCAAwC;UAAAL,QAAA,gBAEnDnJ,OAAA;YAAKwJ,SAAS,EAAC,wCAAwC;YAAAL,QAAA,gBACnDnJ,OAAA;cAAOwJ,SAAS,EAAC,aAAa;cAAAL,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAQ,eAGlDvJ,OAAA;cAAKwJ,SAAS,EAAC,iBAAiB;cAAAL,QAAA,GAG3B/G,iBAAiB,CAACwB,GAAG,CAAC,CAACtB,UAAU,EAAEQ,KAAK,kBACrC9C,OAAA;gBAAiBwJ,SAAS,EAAC,iBAAiB;gBAAAL,QAAA,gBAExCnJ,OAAA;kBAAKwJ,SAAS,EAAC,iBAAiB;kBAAAL,QAAA,gBAC5BnJ,OAAA;oBACIwJ,SAAS,EAAC,8BAA8B;oBACxCgB,WAAW,EAAG,cAAa1H,KAAK,GAAG,CAAE,EAAE;oBACvCC,KAAK,EAAET,UAAU,CAACA,UAAW;oBAC7B4H,QAAQ,EAAGrE,CAAC,IAAK5C,sBAAsB,CAACH,KAAK,EAAE,YAAY,EAAE+C,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;oBAC7EoH,QAAQ;kBAAA;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QACV,EAEDkB,KAAK,CAACC,OAAO,CAACjI,WAAW,CAACK,KAAK,CAAC,CAAC,IAAIL,WAAW,CAACK,KAAK,CAAC,CAACS,MAAM,GAAG,CAAC,iBAC/DvD,OAAA;oBAAKwJ,SAAS,EAAC,wBAAwB;oBAAAL,QAAA,eACnCnJ,OAAA;sBAAKwJ,SAAS,EAAC,YAAY;sBAAAL,QAAA,eACvBnJ,OAAA;wBAAAmJ,QAAA,EACK1G,WAAW,CAACK,KAAK,CAAC,CAACc,GAAG,CAAC,CAACI,UAAU,EAAE2G,eAAe,kBAChD3K,OAAA;0BAA0B4K,OAAO,EAAEA,CAAA,KAAM7G,qBAAqB,CAACjB,KAAK,EAAEkB,UAAU,CAAE;0BAAAmF,QAAA,EAC7EnF;wBAAU,GADN2G,eAAe;0BAAAvB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,QAG3B;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA;oBACD;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA;kBACH;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAEb;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAEC,eAENvJ,OAAA;kBACIgK,IAAI,EAAC,QAAQ;kBACbR,SAAS,EAAC,qCAAqC;kBAC/CgB,WAAW,EAAG,UAAS1H,KAAK,GAAG,CAAE,EAAE;kBACnCC,KAAK,EAAET,UAAU,CAACC,MAAO;kBACzB2H,QAAQ,EAAGrE,CAAC,IAAK5C,sBAAsB,CAACH,KAAK,EAAE,QAAQ,EAAE+C,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;kBACzEoH,QAAQ;gBAAA;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACV,eAEFvJ,OAAA;kBACIwJ,SAAS,EAAC,0DAA0D;kBACpEzG,KAAK,EAAET,UAAU,CAACE,aAAa,IAAI,EAAG;kBACtC0H,QAAQ,EAAGrE,CAAC,IAAKhD,uBAAuB,CAACC,KAAK,EAAE+C,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;kBAChEoH,QAAQ;kBAAAhB,QAAA,gBAERnJ,OAAA;oBAAQ+C,KAAK,EAAC,EAAE;oBAACqH,QAAQ;oBAAAjB,QAAA,EAAG,eAAcrG,KAAK,GAAG,CAAE;kBAAC;oBAAAsG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAU,EAC9DrH,YAAY,CAAC0B,GAAG,CAAC,CAACiH,WAAW,EAAEC,gBAAgB,kBAC5C9K,OAAA;oBAA+B+C,KAAK,EAAE8H,WAAW,CAACvE,EAAG;oBAAA6C,QAAA,EAChD0B,WAAW,CAACA;kBAAW,GADfC,gBAAgB;oBAAA1B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAGhC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACG,eAETvJ,OAAA;kBACI4K,OAAO,EAAEA,CAAA,KAAM1G,gBAAgB,CAACpB,KAAK,CAAE;kBACvC0G,SAAS,EAAC,4BAA4B;kBACtCuB,KAAK,EAAC;gBAAmB;kBAAA3B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACxB;cAAA,GAtDCzG,KAAK;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAwDlB,CAAC,eAEFvJ,OAAA;gBAAQ4K,OAAO,EAAE3G,aAAc;gBAACuF,SAAS,EAAC,SAAS;gBAAAL,QAAA,gBAC/CnJ,OAAA;kBAAGwJ,SAAS,EAAC;gBAA4B;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAK,eAC9CvJ,OAAA;kBAAAmJ,QAAA,EAAM;gBAAsB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAO;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAC9B;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAEP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAEJ,eAENvJ,OAAA;YAAKwJ,SAAS,EAAC,yCAAyC;YAAAL,QAAA,gBACpDnJ,OAAA;cAAOwJ,SAAS,EAAC,aAAa;cAAAL,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAQ,eAEnDvJ,OAAA;cAAKwJ,SAAS,EAAC,iBAAiB;cAAAL,QAAA,GAE3BnH,YAAY,CAAC4B,GAAG,CAAC,CAACoH,WAAW,EAAElI,KAAK,kBACjC9C,OAAA;gBAAiBwJ,SAAS,EAAC,iBAAiB;gBAAAL,QAAA,gBACxCnJ,OAAA;kBACIwJ,SAAS,EAAC,wBAAwB;kBAClCgB,WAAW,EAAG,eAAc1H,KAAK,GAAG,CAAE,EAAE;kBACxCC,KAAK,EAAEiI,WAAY;kBACnBd,QAAQ,EAAGrE,CAAC,IAAKtB,uBAAuB,CAACzB,KAAK,EAAE+C,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;kBAChEoH,QAAQ;gBAAA;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACV,eACFvJ,OAAA;kBACI4K,OAAO,EAAEA,CAAA,KAAMvG,iBAAiB,CAACvB,KAAK,CAAE;kBACxC0G,SAAS,EAAC,4BAA4B;kBACtCuB,KAAK,EAAC;gBAAoB;kBAAA3B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACzB;cAAA,GAZCzG,KAAK;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAclB,CAAC,eAEFvJ,OAAA;gBAAQ4K,OAAO,EAAExG,cAAe;gBAACoF,SAAS,EAAC,SAAS;gBAAAL,QAAA,gBAChDnJ,OAAA;kBAAGwJ,SAAS,EAAC;gBAA4B;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAK,eAC9CvJ,OAAA;kBAAAmJ,QAAA,EAAM;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAO;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAC/B;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAEP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAEJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAEJ,eAENvJ,OAAA;UAAKwJ,SAAS,EAAC,cAAc;UAAAL,QAAA,gBACzBnJ,OAAA;YAAOwJ,SAAS,EAAC,aAAa;YAAAL,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAQ,eAE3CvJ,OAAA;YAAKwJ,SAAS,EAAC,gBAAgB;YAAAL,QAAA,EAC1B3H,UAAU,IAAIoH,MAAM,CAACyB,OAAO,CAAC7I,UAAU,CAAC,CAACoC,GAAG,CAACqH,KAAA;cAAA,IAAC,CAAC5D,QAAQ,EAAEgD,OAAO,CAAC,GAAAY,KAAA;cAAA,OAC9D5D,QAAQ,KAAK,iBAAiB,iBAC1BrH,OAAA;gBAAoBwJ,SAAS,EAAC,kBAAkB;gBAAAL,QAAA,gBAC5CnJ,OAAA;kBAAOwJ,SAAS,EAAC,eAAe;kBAAAL,QAAA,EAAE/B,kBAAkB,CAACC,QAAQ;gBAAC;kBAAA+B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAS,eACvEvJ,OAAA;kBACIwJ,SAAS,EAAC,6BAA6B;kBACvCzG,KAAK,EAAErB,gBAAgB,CAAC2F,QAAQ,CAAE;kBAClC6C,QAAQ,EAAGrE,CAAC,IAAKoD,kBAAkB,CAAC5B,QAAQ,EAAExB,CAAC,CAACJ,MAAM,CAAC1C,KAAK,CAAE;kBAAAoG,QAAA,gBAE9DnJ,OAAA;oBAAQ+C,KAAK,EAAC,EAAE;oBAAAoG,QAAA,GAAC,SAAO,EAAC/B,kBAAkB,CAACC,QAAQ,CAAC;kBAAA;oBAAA+B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAU,EAC9Dc,OAAO,IAAIA,OAAO,CAACzG,GAAG,CAACsH,KAAA;oBAAA,IAAC,CAAC5E,EAAE,EAAE0C,OAAO,CAAC,GAAAkC,KAAA;oBAAA,oBAClClL,OAAA;sBAAiB+C,KAAK,EAAEuD,EAAG;sBAAA6C,QAAA,EACtBH;oBAAO,GADC1C,EAAE;sBAAA8C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAEN;kBAAA,CACZ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACG;cAAA,GAbHlC,QAAQ;gBAAA+B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAerB;YAAA,CACJ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACA,eAENvJ,OAAA;YAAIwJ,SAAS,EAAC;UAAW;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAG,eAE5BvJ,OAAA;YAAKwJ,SAAS,EAAC,yBAAyB;YAAAL,QAAA,gBACpCnJ,OAAA;cAAOwJ,SAAS,EAAC,aAAa;cAAAL,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAQ,eACpDvJ,OAAA;cAAKwJ,SAAS,EAAC,eAAe;cAAAL,QAAA,EACzBP,MAAM,CAACyB,OAAO,CAAC3I,gBAAgB,CAAC,CAACkC,GAAG,CAACuH,KAAA;gBAAA,IAAC,CAAC9D,QAAQ,EAAE+D,IAAI,CAAC,GAAAD,KAAA;gBAAA,OACnD9D,QAAQ,KAAK,iBAAiB,IAC1BuB,MAAM,CAACyB,OAAO,CAACe,IAAI,CAAC,CAACxH,GAAG,CAACyH,KAAA;kBAAA,IAAC,CAAC/E,EAAE,EAAEgF,OAAO,CAAC,GAAAD,KAAA;kBAAA,OACnCC,OAAO,iBACHtL,OAAA;oBAAewJ,SAAS,EAAC,eAAe;oBAAAL,QAAA,gBACpCnJ,OAAA;sBAAOwJ,SAAS,EAAC,SAAS;sBAAAL,QAAA,EACrB3H,UAAU,CAAC6F,QAAQ,CAAC,CAAChB,IAAI,CAACkF,KAAA;wBAAA,IAAC,CAACC,KAAK,CAAC,GAAAD,KAAA;wBAAA,OAAKC,KAAK,KAAKC,QAAQ,CAACnF,EAAE,EAAE,EAAE,CAAC;sBAAA,EAAC,CAAC,CAAC;oBAAC;sBAAA8C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAClE,eACRvJ,OAAA;sBACIwJ,SAAS,EAAC,uCAAuC;sBACjDoB,OAAO,EAAEA,CAAA,KAAMnC,eAAe,CAACpB,QAAQ,EAAEf,EAAE;oBAAE;sBAAA8C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAC5C;kBAAA,GAPEjD,EAAE;oBAAA8C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAShB;gBAAA,CACJ,CACJ;cAAA,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QACA;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAEJ,eAINvJ,OAAA;UAAKwJ,SAAS,EAAC,gBAAgB;UAAAL,QAAA,eAC3BnJ,OAAA;YAAQwJ,SAAS,EAAC,aAAa;YAACQ,IAAI,EAAC,QAAQ;YAAAb,QAAA,EAAE;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAS;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAC7D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAEb;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEd,CAAC;AAAAnJ,EAAA,CAvmBKD,SAAS;EAAA,QACML,WAAW;AAAA;AAAA4L,EAAA,GAD1BvL,SAAS;AAymBf,eAAeA,SAAS;;AAIxB;AACA;AACA;AACA;AACA;AACA;AAAA,IAAAuL,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}