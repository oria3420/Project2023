{"ast":null,"code":"// import Navbar from '../components/Navbar';\n// import RecipeCard from '../components/RecipeCard';\n// import { useLocation } from 'react-router-dom';\n// import { useNavigate  } from 'react-router-dom';\n// import './App.css';\n// import React, { useState, useEffect } from 'react';\n\n// const PopularRecipes = () => {\n//     const location = useLocation();\n//     const name = location.state.name;\n//     const [categories, setCategories] = useState([]);\n//     const [expandedCategories, setExpandedCategories] = useState({});\n//     const [recipes, setRecipes] = useState([]);\n//     const navigate = useNavigate();\n//     const [selectedCategories, setSelectedCategories] = useState([]);\n\n//     useEffect(() => {\n//       fetch(`http://localhost:1337/api/table/recipes`)\n//         .then(res => res.json())\n//         .then(data => setRecipes(data))\n//         .catch(error => console.error(error))\n//     }, []);\n\n//     useEffect(() => {\n//         fetch('http://localhost:1337/api/home/popular_recipes')\n//             .then(response => response.json())\n//             .then(data => {\n//                 const expandedCategories = {};\n//                 Object.keys(data).forEach(category => {\n//                     expandedCategories[category] = false;\n//                 });\n//                 setCategories(data);\n//                 setExpandedCategories(expandedCategories);\n//             })\n//             .catch(error => console.error(error));\n//     }, []);\n\n//     const toggleCategory = (category) => {\n//         setExpandedCategories({\n//             ...expandedCategories,\n//             [category]: !expandedCategories[category]\n//         });\n//     };\n//     const handleClick = (recipeId) => {\n//         navigate(`/recipes/${recipeId}`);\n//       };\n\n//       function handleCheckboxChange(event) {\n//         const value = event.target.value;\n//         if (event.target.checked) {\n//           setSelectedCategories([...selectedCategories, value]);\n//         } else {\n//           setSelectedCategories(selectedCategories.filter((category) => category !== value));\n//         }\n//     }\n//     const filteredRecipes = selectedCategories.length === 0\n//     ? recipes\n//     : recipes.filter((recipe) =>\n//         recipe.Categories.some((category) => selectedCategories.includes(category))\n//       );\n\n//     return (\n//         <div>\n//             {name && <Navbar name={name} />}\n//             <div className='search-recipe-container'>\n//                 <div className='filter-menu'>\n//                     {Object.keys(categories)\n//                         .sort((a, b) => a.localeCompare(b))\n//                         .map((category) => (\n//                             <div className='category' key={category}>\n//                                 <div className=\"category-header\" onClick={() => toggleCategory(category)}>\n//                                     <span className='category-title'>{category}</span>\n//                                     <button className=\"btn btn-light category-toggle-btn\">{expandedCategories[category] ? \"-\" : \"+\"}</button>\n//                                 </div>\n//                                 {expandedCategories[category] && categories[category].map((value) => (\n//                                     <div className=\"form-check\" key={value}>\n//                                         <input className=\"form-check-input\" type=\"checkbox\" id={`checkbox_${value}`} />\n//                                         <label className=\"form-check-label\" htmlFor={`checkbox_${value}`}>{value}</label>\n//                                     </div>\n//                                 ))}\n//                             </div>\n//                         ))}\n//                 </div>\n//                 <div className='recipes-container'>\n//                 {recipes.map((recipe) => (\n//                   <div key={recipe.RecipeId} onClick={() => handleClick(recipe.RecipeId)}>\n//                     <RecipeCard recipe={recipe} />\n//                   </div>\n//                 ))}\n//               </div>\n//             </div>\n//         </div>\n//     )\n// }\n\n// export default PopularRecipes","map":{"version":3,"names":[],"sources":["C:/Users/oria3/Desktop/כללי/שנה ג/פרוייקט גמר/code/client/src/pages/PopularRecipes.js"],"sourcesContent":["// import Navbar from '../components/Navbar';\n// import RecipeCard from '../components/RecipeCard';\n// import { useLocation } from 'react-router-dom';\n// import { useNavigate  } from 'react-router-dom';\n// import './App.css';\n// import React, { useState, useEffect } from 'react';\n\n// const PopularRecipes = () => {\n//     const location = useLocation();\n//     const name = location.state.name;\n//     const [categories, setCategories] = useState([]);\n//     const [expandedCategories, setExpandedCategories] = useState({});\n//     const [recipes, setRecipes] = useState([]);\n//     const navigate = useNavigate();\n//     const [selectedCategories, setSelectedCategories] = useState([]);\n\n\n//     useEffect(() => {\n//       fetch(`http://localhost:1337/api/table/recipes`)\n//         .then(res => res.json())\n//         .then(data => setRecipes(data))\n//         .catch(error => console.error(error))\n//     }, []);\n\n//     useEffect(() => {\n//         fetch('http://localhost:1337/api/home/popular_recipes')\n//             .then(response => response.json())\n//             .then(data => {\n//                 const expandedCategories = {};\n//                 Object.keys(data).forEach(category => {\n//                     expandedCategories[category] = false;\n//                 });\n//                 setCategories(data);\n//                 setExpandedCategories(expandedCategories);\n//             })\n//             .catch(error => console.error(error));\n//     }, []);\n\n//     const toggleCategory = (category) => {\n//         setExpandedCategories({\n//             ...expandedCategories,\n//             [category]: !expandedCategories[category]\n//         });\n//     };\n//     const handleClick = (recipeId) => {\n//         navigate(`/recipes/${recipeId}`);\n//       };\n\n//       function handleCheckboxChange(event) {\n//         const value = event.target.value;\n//         if (event.target.checked) {\n//           setSelectedCategories([...selectedCategories, value]);\n//         } else {\n//           setSelectedCategories(selectedCategories.filter((category) => category !== value));\n//         }\n//     }\n//     const filteredRecipes = selectedCategories.length === 0\n//     ? recipes\n//     : recipes.filter((recipe) =>\n//         recipe.Categories.some((category) => selectedCategories.includes(category))\n//       );\n      \n//     return (\n//         <div>\n//             {name && <Navbar name={name} />}\n//             <div className='search-recipe-container'>\n//                 <div className='filter-menu'>\n//                     {Object.keys(categories)\n//                         .sort((a, b) => a.localeCompare(b))\n//                         .map((category) => (\n//                             <div className='category' key={category}>\n//                                 <div className=\"category-header\" onClick={() => toggleCategory(category)}>\n//                                     <span className='category-title'>{category}</span>\n//                                     <button className=\"btn btn-light category-toggle-btn\">{expandedCategories[category] ? \"-\" : \"+\"}</button>\n//                                 </div>\n//                                 {expandedCategories[category] && categories[category].map((value) => (\n//                                     <div className=\"form-check\" key={value}>\n//                                         <input className=\"form-check-input\" type=\"checkbox\" id={`checkbox_${value}`} />\n//                                         <label className=\"form-check-label\" htmlFor={`checkbox_${value}`}>{value}</label>\n//                                     </div>\n//                                 ))}\n//                             </div>\n//                         ))}\n//                 </div>\n//                 <div className='recipes-container'>\n//                 {recipes.map((recipe) => (\n//                   <div key={recipe.RecipeId} onClick={() => handleClick(recipe.RecipeId)}>\n//                     <RecipeCard recipe={recipe} />\n//                   </div>\n//                 ))}\n//               </div>\n//             </div>\n//         </div>\n//     )\n// }\n\n// export default PopularRecipes\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}